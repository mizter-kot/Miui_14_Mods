# MiuiSystemUIPlugin.apk

## Lmiui/systemui/controlcenter/qs/QSPager;

### Пояснение

Здесь настройка количества рядов тоглов на первой странице и обновлялка разметки тайлов и тоглов.

### .method public constructor \<init\>(Landroid/content/Context;Landroid/util/AttributeSet;)V

Найти `return-void`, выше добавить:

```smali
invoke-direct {p0}, Lmiui/systemui/controlcenter/qs/QSPager;->getMyRowsCount()I

move-result v0

iput v0, p0, Lmiui/systemui/controlcenter/qs/QSPager;->myRowsCount:I

sput-object p0, Lmiui/systemui/controlcenter/qs/QSPager;->INSTANCE:Lmiui/systemui/controlcenter/qs/QSPager;
```

### .method private final distributeTiles()V

Найти `const/4 v8, 0x4`, заменить на:

```smali
iget v8, p0, Lmiui/systemui/controlcenter/qs/QSPager;->myRowsCount:I
```

### Добавить в конец класса

<details><summary>Много кода</summary>
    
```smali
.field private myRowsCount:I

.field public static INSTANCE:Lmiui/systemui/controlcenter/qs/QSPager;

.method private getMyRowsCount()I
    .locals 4
    
    invoke-virtual {p0}, Lmiui/systemui/controlcenter/qs/QSPager;->getContext()Landroid/content/Context;
    
    move-result-object v0
    
    invoke-virtual {v0}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;
    
    move-result-object v0
    
    const-string v1, "my_first_page_rows_count"
    
    const/4 v2, 0x2
    
    invoke-static {v0, v1, v2}, Landroid/provider/Settings$System;->getInt(Landroid/content/ContentResolver;Ljava/lang/String;I)I
    
    move-result v2
    
    const-string v1, "my_tiles_count"
    
    const/4 v3, 0x2
    
    invoke-static {v0, v1, v3}, Landroid/provider/Settings$System;->getInt(Landroid/content/ContentResolver;Ljava/lang/String;I)I
    
    move-result v3
    
    const/4 v1, 0x2
    
    if-ne v1, v3, :four_or_six
    
    add-int/lit8 v2, v2, 0x2 # Add 2 rows for 2 big tiles
    
    goto :return
    
    :four_or_six
    const/4 v1, 0x4
    
    if-ne v1, v3, :six
    
    add-int/lit8 v2, v2, 0x3 # Add 3 rows for 4 big tiles
    
    goto :return
    
    :six
    add-int/lit8 v2, v2, 0x4 # Add 4 rows for 6 big tiles
    
    :return
    return v2
.end method

.method public updateTilesLayout(Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;)V
    .locals 5
    
    iput-object p1, p0, Lmiui/systemui/controlcenter/qs/QSPager;->header:Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;
    
    invoke-direct {p0}, Lmiui/systemui/controlcenter/qs/QSPager;->getMyRowsCount()I

    move-result v0

    iput v0, p0, Lmiui/systemui/controlcenter/qs/QSPager;->myRowsCount:I
    
    const/4 v0, 0x1
    
    iput-boolean v0, p0, Lmiui/systemui/controlcenter/qs/QSPager;->distributeTiles:Z
    
    invoke-direct {p0}, Lmiui/systemui/controlcenter/qs/QSPager;->distributeTiles()V
    
    const/4 v0, 0x0
    
    iput-boolean v0, p0, Lmiui/systemui/controlcenter/qs/QSPager;->distributeTiles:Z
    
    return-void
.end method
```

</details>

---

## Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;

### Пояснение 

Здесь новые тайлы, выбор значения тайлов, разметка тайлов и слайдеров, вызов вышеупомянутой обновлялки.

### .method private final updateResources()V

`.locals 10` -> `.locals 11`

После `.locals` добавить:

```smali
move-object v10, p0
```

Найти:

```smali
sget v4, Lmiui/systemui/controlcenter/R$dimen;->volume_brightness_slider_weight:I

invoke-virtual {v3, v4}, Landroid/content/res/Resources;->getFloat(I)F

move-result v3

mul-float/2addr v3, v2

float-to-int v2, v3

mul-int/lit8 v3, v1, 0x2

sub-int v6, v0, v3
```

После этого добавить:

```smali
iput v6, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileCalculatedMarginTop:I
```

Найти:

```smali
sget v3, Lmiui/systemui/controlcenter/R$id;->big_tile_a:I

invoke-virtual {v0, v3}, Landroidx/constraintlayout/widget/ConstraintLayout;->findViewById(I)Landroid/view/View;

move-result-object v0

invoke-virtual {v0}, Landroid/view/View;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;

move-result-object v0

iput v1, v0, Landroid/view/ViewGroup$LayoutParams;->width:I
```

После этого добавить:

```smali
iput v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileCalculatedWidth:I
```

Найти `return-void`, до него добавить:

```smali
invoke-direct {v10}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->customUpdateResources()V
```

### .method protected getChildControllers()Ljava/util/ArrayList;

После `.locals` добавить:

```smali
invoke-direct {p0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->customGetChildControllers()Ljava/util/ArrayList;

move-result-object p0

return-object p0
```

### .method public final getRow()I

После `.locals` добавить:

```smali
invoke-direct {p0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->customGetRow()I

move-result p0

return p0
```

### .method public final getRowViews(I)Ljava/util/ArrayList;

После `.locals` добавить:

```smali
invoke-direct {p0, p1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->customGetRowViews(I)Ljava/util/ArrayList;

move-result-object p0

return-object p0
```

### .method public final isBigTile(Lcom/android/systemui/plugins/qs/QSTile;)Z

`.locals 4` -> `.locals 6`

После `.locals` добавить:

```smali
move-object v4, p0

move-object v5, p1
```

Найти `return v0`, до него добавить:

```smali
invoke-direct {v4, v0, v5}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->customIsBigTile(ZLcom/android/systemui/plugins/qs/QSTile;)Z
    
move-result v0
```

### .method protected onCreate()V

Найти:

```smali
invoke-super {p0}, Lmiui/systemui/controlcenter/utils/ControlCenterViewController;->onCreate()V
```

После добавить:

```smali
invoke-direct {p0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->customOnCreate()V
```

Найти:

```smali
iget-object v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileA:Lmiui/systemui/controlcenter/qs/tileview/BigTileView;

const/4 v2, 0x0

if-nez v1, :cond_0

const-string v1, "bigTileA"

invoke-static {v1}, Lb/f/b/l;->b(Ljava/lang/String;)V

move-object v1, v2

:cond_0
const-string v3, "wifi"
```

После добавить:

```smali
const-string v2, "my_custom_big_tile_a_tag"

invoke-direct {p0, v2, v3}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getCustomBigTileTag(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

move-result-object v3

const/4 v2, 0x0
```

Найти:

```smali
invoke-virtual {v2}, Lmiui/systemui/controlcenter/qs/QSController;->getHasMobileDataFeature()Z

move-result v2

if-eqz v2, :cond_2

const-string v2, "cell"

goto :goto_0

:cond_2
const-string v2, "bt"

:goto_0
```

После добавить:

```smali
const-string v3, "my_custom_big_tile_b_tag"

invoke-direct {p0, v3, v2}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getCustomBigTileTag(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

move-result-object v2
```

### .method protected onDestroy()V

После `.locals` добавить:

```smali
invoke-direct {p0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->customOnDestroy()V
```

### .method public onStateChanged(Landroidx/lifecycle/LifecycleOwner;Landroidx/lifecycle/Lifecycle$Event;)V

`.locals 2` -> `.locals 3`

После `.locals` добавить:

```smali
move-object v2, p0
```

Найти:

```smali
:cond_4
return-void
```

До этого добавить:

```smali
invoke-direct {v2}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->customOnStateChanged()V
```

### .method public final setListening(Z)V

После `.locals` добавить:

```smali
invoke-direct {p0, p1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->customSetListening(Z)V
```

### Добавить в конец класса

<details><summary>Очень много кода. Открыть -> скопировать -> закрыть.</summary>

```smali
.implements Landroid/preference/CustomUpdater$CustomReceiver;

.field private customReceivers:[Ljava/lang/String;

.method private registerCustomReceiver()V
    .locals 3
    
    const/4 v0, 0x1

    new-array v0, v0, [Ljava/lang/String;

    const-string v1, "custom_tiles_layout"

    const/4 v2, 0x0

    aput-object v1, v0, v2
    
    iput-object v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->customReceivers:[Ljava/lang/String;

    invoke-static {}, Landroid/preference/CustomUpdater;->getInstance()Landroid/preference/CustomUpdater;

    move-result-object v1

    invoke-virtual {v1, p0, v0}, Landroid/preference/CustomUpdater;->addCustomReceiver(Landroid/preference/CustomUpdater$CustomReceiver;[Ljava/lang/String;)V

    return-void
.end method

.method private removeCustomReceiver()V
    .locals 2

    invoke-static {}, Landroid/preference/CustomUpdater;->getInstance()Landroid/preference/CustomUpdater;

    move-result-object v0

    iget-object v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->customReceivers:[Ljava/lang/String;

    invoke-virtual {v0, p0, v1}, Landroid/preference/CustomUpdater;->removeCustomReceiver(Landroid/preference/CustomUpdater$CustomReceiver;[Ljava/lang/String;)V

    return-void
.end method

.method public onCustomChanged(Ljava/lang/String;)V
    .locals 1
    
    const-string v0, "custom_tiles_layout"

    invoke-virtual {v0, p1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0
    
    if-eqz v0, :next_key_0

    # new tiles & sliders layout or new toggles rows count
    invoke-direct {p0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->onCustomTilesLayoutChanged()V

    :next_key_0
    return-void
.end method

.method private onCustomTilesLayoutChanged()V
    .locals 1
    
    invoke-direct {p0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->updateResources()V
    
    sget-object v0, Lmiui/systemui/controlcenter/qs/QSPager;->INSTANCE:Lmiui/systemui/controlcenter/qs/QSPager;
    
    invoke-virtual {v0, p0}, Lmiui/systemui/controlcenter/qs/QSPager;->updateTilesLayout(Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;)V
    
    iget-object v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->qsController:La/a;

    invoke-interface {v0}, La/a;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lmiui/systemui/controlcenter/qs/QSController;
    
    invoke-virtual {v0}, Lmiui/systemui/controlcenter/qs/QSController;->onTilesChanged()V

    return-void
.end method

.field private bigTileC:Lmiui/systemui/controlcenter/qs/tileview/BigTileView;

.field private bigTileD:Lmiui/systemui/controlcenter/qs/tileview/BigTileView;

.field private bigTileE:Lmiui/systemui/controlcenter/qs/tileview/BigTileView;

.field private bigTileF:Lmiui/systemui/controlcenter/qs/tileview/BigTileView;

.field private bigTileCController:Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;

.field private bigTileDController:Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;

.field private bigTileEController:Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;

.field private bigTileFController:Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;

.field private bigTileCalculatedWidth:I

.field private bigTileCalculatedMarginTop:I

.method private customOnCreate()V
    .locals 3
    
    invoke-direct {p0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->registerCustomReceiver()V
    
    
    invoke-virtual {p0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getView()Landroid/view/View;

    move-result-object v0

    check-cast v0, Landroidx/constraintlayout/widget/ConstraintLayout;
    
    
    const-string v1, "big_tile_c"
    
    invoke-direct {p0, v1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getBigTileViewFromStringId(Ljava/lang/String;)Lmiui/systemui/controlcenter/qs/tileview/BigTileView;
    
    move-result-object v1

    iput-object v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileC:Lmiui/systemui/controlcenter/qs/tileview/BigTileView;
    
    
    const-string v1, "big_tile_d"
    
    invoke-direct {p0, v1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getBigTileViewFromStringId(Ljava/lang/String;)Lmiui/systemui/controlcenter/qs/tileview/BigTileView;
    
    move-result-object v1

    iput-object v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileD:Lmiui/systemui/controlcenter/qs/tileview/BigTileView;
    
    
    const-string v1, "big_tile_e"
    
    invoke-direct {p0, v1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getBigTileViewFromStringId(Ljava/lang/String;)Lmiui/systemui/controlcenter/qs/tileview/BigTileView;
    
    move-result-object v1

    iput-object v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileE:Lmiui/systemui/controlcenter/qs/tileview/BigTileView;
    
    
    const-string v1, "big_tile_f"
    
    invoke-direct {p0, v1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getBigTileViewFromStringId(Ljava/lang/String;)Lmiui/systemui/controlcenter/qs/tileview/BigTileView;
    
    move-result-object v1

    iput-object v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileF:Lmiui/systemui/controlcenter/qs/tileview/BigTileView;
    
    
    iget-object v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileC:Lmiui/systemui/controlcenter/qs/tileview/BigTileView;

    const-string v1, "my_custom_big_tile_c_tag"
    
    const-string v2, "mute"
    
    invoke-direct {p0, v0, v1, v2}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->createCustomTile(Lmiui/systemui/controlcenter/qs/tileview/BigTileView;Ljava/lang/String;Ljava/lang/String;)Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;
    
    move-result-object v0

    iput-object v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileCController:Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;


    iget-object v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileD:Lmiui/systemui/controlcenter/qs/tileview/BigTileView;

    const-string v1, "my_custom_big_tile_d_tag"
    
    const-string v2, "quietmode"
    
    invoke-direct {p0, v0, v1, v2}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->createCustomTile(Lmiui/systemui/controlcenter/qs/tileview/BigTileView;Ljava/lang/String;Ljava/lang/String;)Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;
    
    move-result-object v0

    iput-object v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileDController:Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;

    
    iget-object v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileE:Lmiui/systemui/controlcenter/qs/tileview/BigTileView;

    const-string v1, "my_custom_big_tile_e_tag"
    
    const-string v2, "screenshot"
    
    invoke-direct {p0, v0, v1, v2}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->createCustomTile(Lmiui/systemui/controlcenter/qs/tileview/BigTileView;Ljava/lang/String;Ljava/lang/String;)Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;
    
    move-result-object v0

    iput-object v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileEController:Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;

    
    iget-object v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileF:Lmiui/systemui/controlcenter/qs/tileview/BigTileView;

    const-string v1, "my_custom_big_tile_f_tag"
    
    const-string v2, "gps"
    
    invoke-direct {p0, v0, v1, v2}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->createCustomTile(Lmiui/systemui/controlcenter/qs/tileview/BigTileView;Ljava/lang/String;Ljava/lang/String;)Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;
    
    move-result-object v0

    iput-object v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileFController:Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;
    
    return-void
.end method

.method private customOnDestroy()V
    .locals 0
    
    invoke-direct {p0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->removeCustomReceiver()V
    
    return-void
.end method

.method private customIsBigTile(ZLcom/android/systemui/plugins/qs/QSTile;)Z
    .locals 1
    
    if-eqz p1, :check_my_tiles
    
    return p1
    
    :check_my_tiles
    invoke-interface {p2}, Lcom/android/systemui/plugins/qs/QSTile;->getTileSpec()Ljava/lang/String;

    move-result-object p2
    
    iget-object v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileCController:Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;
    
    invoke-virtual {v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;->getTile()Lcom/android/systemui/plugins/qs/QSTile;

    move-result-object v0
    
    invoke-interface {v0}, Lcom/android/systemui/plugins/qs/QSTile;->getTileSpec()Ljava/lang/String;

    move-result-object v0
    
    if-ne v0, p2, :check_tile_d
    
    goto :return_true
    
    :check_tile_d
    iget-object v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileDController:Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;
    
    invoke-virtual {v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;->getTile()Lcom/android/systemui/plugins/qs/QSTile;

    move-result-object v0
    
    invoke-interface {v0}, Lcom/android/systemui/plugins/qs/QSTile;->getTileSpec()Ljava/lang/String;

    move-result-object v0
    
    if-ne v0, p2, :check_tile_e
    
    goto :return_true
    
    :check_tile_e
    iget-object v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileEController:Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;
    
    invoke-virtual {v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;->getTile()Lcom/android/systemui/plugins/qs/QSTile;

    move-result-object v0
    
    invoke-interface {v0}, Lcom/android/systemui/plugins/qs/QSTile;->getTileSpec()Ljava/lang/String;

    move-result-object v0
    
    if-ne v0, p2, :check_tile_f
    
    goto :return_true
    
    :check_tile_f
    iget-object v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileFController:Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;
    
    invoke-virtual {v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;->getTile()Lcom/android/systemui/plugins/qs/QSTile;

    move-result-object v0
    
    invoke-interface {v0}, Lcom/android/systemui/plugins/qs/QSTile;->getTileSpec()Ljava/lang/String;

    move-result-object v0
    
    if-ne v0, p2, :return
    
    :return_true
    const/4 p1, 0x1
    
    :return
    return p1
.end method

.method private customOnStateChanged()V
    .locals 1
    
    iget-object v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileC:Lmiui/systemui/controlcenter/qs/tileview/BigTileView;
    
    invoke-direct {p0, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->updateTileOnStateChanged(Lmiui/systemui/controlcenter/qs/tileview/BigTileView;)V
    
    iget-object v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileD:Lmiui/systemui/controlcenter/qs/tileview/BigTileView;
    
    invoke-direct {p0, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->updateTileOnStateChanged(Lmiui/systemui/controlcenter/qs/tileview/BigTileView;)V
    
    iget-object v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileE:Lmiui/systemui/controlcenter/qs/tileview/BigTileView;
    
    invoke-direct {p0, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->updateTileOnStateChanged(Lmiui/systemui/controlcenter/qs/tileview/BigTileView;)V
    
    iget-object v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileF:Lmiui/systemui/controlcenter/qs/tileview/BigTileView;
    
    invoke-direct {p0, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->updateTileOnStateChanged(Lmiui/systemui/controlcenter/qs/tileview/BigTileView;)V
    
    return-void
.end method

.method private customSetListening(Z)V
    .locals 1
    
    iget-object v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileCController:Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;
    
    invoke-virtual {v0, p1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;->setListening(Z)V
    
    iget-object v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileDController:Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;
    
    invoke-virtual {v0, p1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;->setListening(Z)V
    
    iget-object v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileEController:Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;

    invoke-virtual {v0, p1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;->setListening(Z)V
    
    iget-object v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileFController:Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;

    invoke-virtual {v0, p1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;->setListening(Z)V
    
    return-void
.end method

.method private customGetRowViews(I)Ljava/util/ArrayList;
    .locals 2
    
    new-instance v0, Ljava/util/ArrayList;

    invoke-direct {v0}, Ljava/util/ArrayList;-><init>()V
    
    invoke-direct {p0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->customGetRow()I
    
    move-result v1
    
    if-ge p1, v1, :return
    
    if-nez p1, :not_row_0
    
    iget-object v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileA:Lmiui/systemui/controlcenter/qs/tileview/BigTileView;
    
    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
    
    iget v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myTopCenterElement:I
    
    if-ltz v1, :row_0_top_center_empty
    
    iget-object v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->brightnessSliderView:Lmiui/systemui/controlcenter/brightness/ToggleSliderView;
    
    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
    
    iget-object v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->volumeSliderView:Lmiui/systemui/controlcenter/brightness/ToggleSliderView;

    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
    
    goto :return
    
    :row_0_top_center_empty
    iget-object v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileB:Lmiui/systemui/controlcenter/qs/tileview/BigTileView;
    
    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
    
    goto :return
    
    :not_row_0
    const/4 v1, 0x1
    
    if-ne p1, v1, :not_row_1
    
    iget v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myTopCenterElement:I
    
    if-ltz v1, :row_1_top_center_empty
    
    iget-object v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileB:Lmiui/systemui/controlcenter/qs/tileview/BigTileView;
    
    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
    
    goto :return
    
    :row_1_top_center_empty
    iget-object v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileC:Lmiui/systemui/controlcenter/qs/tileview/BigTileView;
    
    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
    
    iget v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myCenterCenterElement:I
    
    if-ltz v1, :row_1_center_center_empty
    
    iget-object v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->brightnessSliderView:Lmiui/systemui/controlcenter/brightness/ToggleSliderView;
    
    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
    
    iget-object v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->volumeSliderView:Lmiui/systemui/controlcenter/brightness/ToggleSliderView;

    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
    
    goto :return
    
    :row_1_center_center_empty
    iget-object v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileD:Lmiui/systemui/controlcenter/qs/tileview/BigTileView;
    
    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
    
    goto :return
    
    :not_row_1
    const/4 v1, 0x2
    
    if-ne p1, v1, :not_row_2
    
    iget v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myTopCenterElement:I
    
    if-ltz v1, :row_2_top_center_empty
    
    iget-object v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileC:Lmiui/systemui/controlcenter/qs/tileview/BigTileView;
    
    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
    
    iget-object v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileD:Lmiui/systemui/controlcenter/qs/tileview/BigTileView;
    
    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
    
    goto :return
    
    :row_2_top_center_empty
    iget v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myCenterCenterElement:I
    
    if-ltz v1, :row_2_center_center_empty
    
    iget-object v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileD:Lmiui/systemui/controlcenter/qs/tileview/BigTileView;
    
    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
    
    goto :return
    
    :row_2_center_center_empty
    iget-object v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileE:Lmiui/systemui/controlcenter/qs/tileview/BigTileView;
    
    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
    
    iget-object v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->brightnessSliderView:Lmiui/systemui/controlcenter/brightness/ToggleSliderView;
    
    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
    
    iget-object v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->volumeSliderView:Lmiui/systemui/controlcenter/brightness/ToggleSliderView;

    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
    
    goto :return
    
    :not_row_2
    iget-object v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileF:Lmiui/systemui/controlcenter/qs/tileview/BigTileView;
    
    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
    
    iget v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myBottomCenterElement:I
    
    if-gez v1, :row_3_bottom_center_exists
    
    iget-object v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileE:Lmiui/systemui/controlcenter/qs/tileview/BigTileView;
    
    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
    
    :row_3_bottom_center_exists
    :return
    return-object v0
.end method

.method private customUpdateResources()V
    .locals 3
    
    invoke-direct {p0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->updateMyBigTileGroup()V
    
    const-string v0, "big_tile_c"
    
    const/4 v1, 0x1 # set calculated margin_top
    
    invoke-direct {p0, v0, v1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->updateTileOnUpdateResources(Ljava/lang/String;Z)V
    
    const-string v0, "big_tile_d"    
    
    const/4 v1, 0x0 # set zero margin_top
    
    iget v2, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myCenterCenterElement:I
    
    if-ltz v2, :set_big_tile_d_margin_top
    
    const/4 v1, 0x1 # set calculated margin_top
    
    :set_big_tile_d_margin_top
    invoke-direct {p0, v0, v1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->updateTileOnUpdateResources(Ljava/lang/String;Z)V
    
    const-string v0, "big_tile_e"
    
    const/4 v1, 0x1 # set calculated margin_top
    
    invoke-direct {p0, v0, v1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->updateTileOnUpdateResources(Ljava/lang/String;Z)V
    
    const-string v0, "big_tile_f"    
    
    const/4 v1, 0x0 # set zero margin_top
    
    iget v2, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myBottomCenterElement:I
    
    if-ltz v2, :set_big_tile_f_margin_top
    
    const/4 v1, 0x1 # set calculated margin_top
    
    :set_big_tile_f_margin_top
    invoke-direct {p0, v0, v1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->updateTileOnUpdateResources(Ljava/lang/String;Z)V
    
    const-string v0, "big_tile_b"    
    
    const/4 v1, 0x0 # set zero margin_top
    
    iget v2, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myTopCenterElement:I
    
    if-ltz v2, :set_big_tile_b_margin_top
    
    const/4 v1, 0x1 # set calculated margin_top
    
    :set_big_tile_b_margin_top
    invoke-direct {p0, v0, v1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->updateTileOnUpdateResources(Ljava/lang/String;Z)V
    
    return-void
.end method

.method private customGetChildControllers()Ljava/util/ArrayList;
    .locals 3
    
    new-instance v0, Ljava/util/ArrayList;

    invoke-direct {v0}, Ljava/util/ArrayList;-><init>()V

    iget-object v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileAController:Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;
    
    if-eqz v1, :next_0
    
    check-cast v1, Lmiui/systemui/controlcenter/utils/ControlCenterViewController;
    
    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    :next_0
    iget-object v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileBController:Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;
    
    if-eqz v1, :next_1
    
    check-cast v1, Lmiui/systemui/controlcenter/utils/ControlCenterViewController;
    
    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
    
    :next_1
    iget-object v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileCController:Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;
    
    if-eqz v1, :next_2
    
    check-cast v1, Lmiui/systemui/controlcenter/utils/ControlCenterViewController;
    
    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
    
    :next_2
    iget-object v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileDController:Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;
    
    if-eqz v1, :next_3
    
    check-cast v1, Lmiui/systemui/controlcenter/utils/ControlCenterViewController;
    
    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
    
    :next_3
    iget-object v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileEController:Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;
    
    if-eqz v1, :next_4
    
    check-cast v1, Lmiui/systemui/controlcenter/utils/ControlCenterViewController;
    
    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
    
    :next_4
    iget-object v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileFController:Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;
    
    if-eqz v1, :next_5
    
    check-cast v1, Lmiui/systemui/controlcenter/utils/ControlCenterViewController;
    
    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
    
    :next_5
    iget-object v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->volumeSliderController:Lmiui/systemui/controlcenter/volume/VolumeSliderController;
    
    if-eqz v1, :next_6
    
    check-cast v1, Lmiui/systemui/controlcenter/utils/ControlCenterViewController;
    
    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
    
    :next_6
    iget-object v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->brightnessSliderController:Lmiui/systemui/controlcenter/panel/mirror/BrightnessSliderController;
    
    if-eqz v1, :return
    
    check-cast v1, Lmiui/systemui/controlcenter/utils/ControlCenterViewController;
    
    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
    
    :return
    return-object v0
.end method

.method private customGetRow()I
    .locals 1
    
    # 2 => 2, 4 => 3, 6 => 4
    
    invoke-direct {p0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getBigTilesCount()I
    
    move-result p0
    
    const/4 v0, 0x2
    
    div-int/2addr p0, v0
    
    const/4 v0, 0x1
    
    add-int/2addr p0, v0
    
    return p0
.end method

.field private myTopLeftElement:I
.field private myTopCenterElement:I
.field private myTopRightElement:I
.field private myCenterLeftElement:I
.field private myCenterCenterElement:I
.field private myCenterRightElement:I
.field private myBottomLeftElement:I
.field private myBottomCenterElement:I
.field private myBottomRightElement:I

.method private updateMyBigTileGroup()V
    .locals 4
    
    invoke-virtual {p0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getView()Landroid/view/View;

    move-result-object v0
    
    check-cast v0, Landroidx/constraintlayout/widget/ConstraintLayout;
    
    invoke-virtual {p0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getContext()Landroid/content/Context;
    
    move-result-object v1
    
    invoke-virtual {v1}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;
    
    move-result-object v1
    
    invoke-direct {p0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getBigTilesCount()I
    
    move-result v2
    
    const/4 v3, 0x2
    
    if-ne v2, v3, :more_than_two
    
    invoke-direct {p0, v1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->updateMyElementsTable_TwoTiles(Landroid/content/ContentResolver;)V

    invoke-direct {p0, v0, v1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->updateBigTileGroupLayout_TwoTiles(Landroidx/constraintlayout/widget/ConstraintLayout;Landroid/content/ContentResolver;)V
    
    goto :return
    
    :more_than_two
    const/4 v3, 0x4
    
    if-ne v2, v3, :six
    
    invoke-direct {p0, v1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->updateMyElementsTable_FourTiles(Landroid/content/ContentResolver;)V
    
    invoke-direct {p0, v0, v1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->updateBigTileGroupLayout_FourTiles(Landroidx/constraintlayout/widget/ConstraintLayout;Landroid/content/ContentResolver;)V
    
    goto :return
    
    :six
    invoke-direct {p0, v1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->updateMyElementsTable_SixTiles(Landroid/content/ContentResolver;)V
    
    invoke-direct {p0, v0, v1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->updateBigTileGroupLayout_SixTiles(Landroidx/constraintlayout/widget/ConstraintLayout;Landroid/content/ContentResolver;)V
    
    :return
    invoke-direct {p0, v2}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setVisibilityForCustomTiles(I)V
    
    return-void
.end method

.method private updateBigTileGroupLayout_TwoTiles(Landroidx/constraintlayout/widget/ConstraintLayout;Landroid/content/ContentResolver;)V
    # param p1: parent layout
    # param p2: CR
    .locals 6
    
    iget v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myTopLeftElement:I
    
    iget v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myTopCenterElement:I
    
    iget v2, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myTopRightElement:I
    
    const/4 v3, 0x0 # parent
    
    const/4 v4, -0x1 # unset
    
    const/4 v5, 0x1 # chain_spread_inside
    
    # VVV myTopLeftElement
    invoke-direct {p0, v0, v3}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setStartToStart(II)V
    
    invoke-direct {p0, v0, v3}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setTopToTop(II)V
    
    invoke-direct {p0, v0, v1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setEndToStart(II)V
    
    invoke-direct {p0, v0, v3}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setBottomToBottom(II)V
    
    invoke-direct {p0, v0, v5}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setHorizontalChainStyle(II)V
    
    invoke-direct {p0, v0, v4}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setVerticalChainStyle(II)V
    # ^^^ myTopLeftElement
    
    # VVV myTopCenterElement
    invoke-direct {p0, v1, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setStartToEnd(II)V
    
    invoke-direct {p0, v1, v3}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setTopToTop(II)V
    
    invoke-direct {p0, v1, v2}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setEndToStart(II)V
    
    invoke-direct {p0, v1, v3}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setBottomToBottom(II)V
    
    invoke-direct {p0, v1, v4}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setHorizontalChainStyle(II)V
    
    invoke-direct {p0, v1, v4}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setVerticalChainStyle(II)V
    # ^^^ myTopCenterElement
    
    # VVV myTopRightElement
    invoke-direct {p0, v2, v1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setStartToEnd(II)V
    
    invoke-direct {p0, v2, v3}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setTopToTop(II)V
    
    invoke-direct {p0, v2, v3}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setEndToEnd(II)V
    
    invoke-direct {p0, v2, v3}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setBottomToBottom(II)V
    
    invoke-direct {p0, v2, v4}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setHorizontalChainStyle(II)V
    
    invoke-direct {p0, v2, v4}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setVerticalChainStyle(II)V
    # ^^^ myTopRightElement
    
    # VVV big_tile_a & big_tile_b
    sget v0, Lmiui/systemui/controlcenter/R$id;->big_tile_a:I
    
    sget v1, Lmiui/systemui/controlcenter/R$id;->big_tile_b:I
    
    invoke-direct {p0, v0, v1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setBottomToTop(II)V
    
    
    invoke-direct {p0, v1, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setStartToStart(II)V
    
    invoke-direct {p0, v1, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setTopToBottom(II)V
    
    invoke-direct {p0, v1, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setEndToEnd(II)V
    
    invoke-direct {p0, v1, v3}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setBottomToBottom(II)V
    # ^^^ big_tile_a & big_tile_b
    
    return-void
.end method

.method private updateBigTileGroupLayout_FourTiles(Landroidx/constraintlayout/widget/ConstraintLayout;Landroid/content/ContentResolver;)V
    # param p1: parent layout
    # param p2: CR
    .locals 7
    
    # VVV getting big_tile_c and big_tile_d
    const-string v0, "big_tile_c"
    
    invoke-direct {p0, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getBigTileIdFromStringId(Ljava/lang/String;)I
    
    move-result v0
    
    const-string v1, "big_tile_d"
    
    invoke-direct {p0, v1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getBigTileIdFromStringId(Ljava/lang/String;)I
    
    move-result v1
    # ^^^ getting big_tile_c and big_tile_d
    
    iget v2, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myTopCenterElement:I
    
    if-ltz v2, :sliders_on_the_bottom
    
    invoke-direct {p0, p1, p2}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->updateBigTileGroupLayout_TwoTiles(Landroidx/constraintlayout/widget/ConstraintLayout;Landroid/content/ContentResolver;)V
    
    sget v2, Lmiui/systemui/controlcenter/R$id;->big_tile_b:I
    
    const/4 v3, 0x0 # parent
    
    const/4 v4, 0x1 # chain_spread_inside
    
    # VVV big_tile_b
    invoke-direct {p0, v2, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setBottomToTop(II)V
    # ^^^ big_tile_b
    
    # VVV big_tile_c
    invoke-direct {p0, v0, v3}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setStartToStart(II)V
    
    invoke-direct {p0, v0, v2}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setTopToBottom(II)V
    
    invoke-direct {p0, v0, v1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setEndToStart(II)V
    
    invoke-direct {p0, v0, v3}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setBottomToBottom(II)V
    
    invoke-direct {p0, v0, v4}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setHorizontalChainStyle(II)V
    # ^^^ big_tile_c
    
    # VVV big_tile_d
    invoke-direct {p0, v1, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setStartToEnd(II)V
    
    invoke-direct {p0, v1, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setTopToTop(II)V
    
    invoke-direct {p0, v1, v3}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setEndToEnd(II)V
    
    invoke-direct {p0, v1, v3}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setBottomToBottom(II)V
    # ^^^ big_tile_d
    
    # VVV vertical chain
    sget v0, Lmiui/systemui/controlcenter/R$id;->big_tile_a:I
    
    invoke-direct {p0, v0, v4}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setVerticalChainStyle(II)V
    # ^^^ vertical chain
    
    # VVV sliders
    sget v0, Lmiui/systemui/controlcenter/R$id;->volume_slider:I
    
    sget v1, Lmiui/systemui/controlcenter/R$id;->brightness_slider:I
    
    invoke-direct {p0, v0, v2}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setBottomToBottom(II)V
    
    invoke-direct {p0, v1, v2}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setBottomToBottom(II)V
    # ^^^ sliders
    
    return-void
    
    :sliders_on_the_bottom
    # v0 = big_tile_c
    # v1 = big_tile_d
    
    # VVV big_tile_a & big_tile_b
    sget v2, Lmiui/systemui/controlcenter/R$id;->big_tile_a:I
    
    sget v3, Lmiui/systemui/controlcenter/R$id;->big_tile_b:I
    
    const/4 v4, 0x0 # parent
    
    const/4 v5, 0x1 # chain_spread_inside
    
    invoke-direct {p0, v2, v4}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setStartToStart(II)V
    
    invoke-direct {p0, v2, v4}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setTopToTop(II)V
    
    invoke-direct {p0, v2, v3}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setEndToStart(II)V
    
    invoke-direct {p0, v2, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setBottomToTop(II)V
    
    invoke-direct {p0, v2, v5}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setHorizontalChainStyle(II)V
    
    
    invoke-direct {p0, v3, v2}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setStartToEnd(II)V
    
    invoke-direct {p0, v3, v4}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setTopToTop(II)V
    
    invoke-direct {p0, v3, v4}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setEndToEnd(II)V
    
    invoke-direct {p0, v3, v2}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setBottomToBottom(II)V
    # ^^^ big_tile_a & big_tile_b
    
    # VVV center elements
    iget v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myCenterLeftElement:I
    
    iget v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myCenterCenterElement:I
    
    iget v2, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myCenterRightElement:I
    
    const/4 v3, 0x0 # parent
    
    const/4 v4, -0x1 # unset
    
    const/4 v5, 0x1 # chain_spread_inside
    
    sget v6, Lmiui/systemui/controlcenter/R$id;->big_tile_a:I
    
    invoke-direct {p0, v6, v5}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setVerticalChainStyle(II)V
    
    # VVV myCenterLeftElement
    invoke-direct {p0, v0, v3}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setStartToStart(II)V
    
    invoke-direct {p0, v0, v6}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setTopToBottom(II)V
    
    invoke-direct {p0, v0, v1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setEndToStart(II)V
    
    invoke-direct {p0, v0, v3}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setBottomToBottom(II)V
    
    invoke-direct {p0, v0, v5}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setHorizontalChainStyle(II)V
    # ^^^ myCenterLeftElement
    
    # VVV myCenterCenterElement
    invoke-direct {p0, v1, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setStartToEnd(II)V
    
    invoke-direct {p0, v1, v6}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setTopToBottom(II)V
    
    invoke-direct {p0, v1, v2}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setEndToStart(II)V
    
    invoke-direct {p0, v1, v3}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setBottomToBottom(II)V
    
    invoke-direct {p0, v1, v4}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setHorizontalChainStyle(II)V
    # ^^^ myCenterCenterElement
    
    # VVV myCenterRightElement
    invoke-direct {p0, v2, v1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setStartToEnd(II)V
    
    invoke-direct {p0, v2, v6}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setTopToBottom(II)V
    
    invoke-direct {p0, v2, v3}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setEndToEnd(II)V
    
    invoke-direct {p0, v2, v3}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setBottomToBottom(II)V
    
    invoke-direct {p0, v2, v4}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setHorizontalChainStyle(II)V
    # ^^^ myCenterRightElement
    
    # ^^^ center elements
    
    # VVV big_tile_c & big_tile_d
    const-string v0, "big_tile_c"
    
    invoke-direct {p0, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getBigTileIdFromStringId(Ljava/lang/String;)I
    
    move-result v0
    
    const-string v1, "big_tile_d"
    
    invoke-direct {p0, v1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getBigTileIdFromStringId(Ljava/lang/String;)I
    
    move-result v1
    
    invoke-direct {p0, v0, v1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setBottomToTop(II)V
    
    
    invoke-direct {p0, v1, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setStartToStart(II)V
    
    invoke-direct {p0, v1, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setTopToBottom(II)V
    
    invoke-direct {p0, v1, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setEndToEnd(II)V
    
    invoke-direct {p0, v1, v3}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setBottomToBottom(II)V
    # ^^^ big_tile_c & big_tile_d
    
    # VVV sliders
    sget v1, Lmiui/systemui/controlcenter/R$id;->volume_slider:I
    
    sget v2, Lmiui/systemui/controlcenter/R$id;->brightness_slider:I
    
    invoke-direct {p0, v1, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setTopToTop(II)V
    
    invoke-direct {p0, v2, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setTopToTop(II)V
    # ^^^ sliders
    
    return-void
.end method

.method private updateBigTileGroupLayout_SixTiles(Landroidx/constraintlayout/widget/ConstraintLayout;Landroid/content/ContentResolver;)V
    # param p1: parent layout
    # param p2: CR
    .locals 8
    
    # VVV getting big_tile_c, big_tile_d, big_tile_e, big_tile_f
    const-string v0, "big_tile_c"
    
    invoke-direct {p0, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getBigTileIdFromStringId(Ljava/lang/String;)I
    
    move-result v0 # v0 = big_tile_c
    
    const-string v1, "big_tile_d"
    
    invoke-direct {p0, v1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getBigTileIdFromStringId(Ljava/lang/String;)I
    
    move-result v1 # v1 = big_tile_d
    
    const-string v2, "big_tile_e"
    
    invoke-direct {p0, v2}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getBigTileIdFromStringId(Ljava/lang/String;)I
    
    move-result v2 # v2 = big_tile_e
    
    const-string v3, "big_tile_f"
    
    invoke-direct {p0, v3}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getBigTileIdFromStringId(Ljava/lang/String;)I
    
    move-result v3 # v3 = big_tile_f
    # ^^^ getting big_tile_c, big_tile_d, big_tile_e, big_tile_f
    
    iget v4, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myBottomCenterElement:I
    
    if-gez v4, :sliders_on_bottom
    
    invoke-direct {p0, p1, p2}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->updateBigTileGroupLayout_FourTiles(Landroidx/constraintlayout/widget/ConstraintLayout;Landroid/content/ContentResolver;)V
    
    iget v4, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myCenterCenterElement:I
    
    if-ltz v4, :sliders_on_top
    
    sget v4, Lmiui/systemui/controlcenter/R$id;->volume_slider:I
    
    sget v5, Lmiui/systemui/controlcenter/R$id;->brightness_slider:I
    
    const/4 v6, 0x0 # parent
    
    const/4 v7, 0x1 # chain_spread_inside
    
    # VVV setting big_tile_e & big_tile_f in horizontal line, sliders in the center
    invoke-direct {p0, v1, v2}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setBottomToTop(II)V
    
    invoke-direct {p0, v4, v1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setBottomToBottom(II)V
    
    invoke-direct {p0, v5, v1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setBottomToBottom(II)V
    
    
    invoke-direct {p0, v2, v1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setTopToBottom(II)V
    
    invoke-direct {p0, v3, v2}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setTopToTop(II)V
    
    
    invoke-direct {p0, v2, v6}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setStartToStart(II)V
    
    invoke-direct {p0, v2, v3}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setEndToStart(II)V
    
    invoke-direct {p0, v2, v6}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setBottomToBottom(II)V
    
    invoke-direct {p0, v2, v7}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setHorizontalChainStyle(II)V
    
    
    invoke-direct {p0, v3, v2}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setStartToEnd(II)V
    
    invoke-direct {p0, v3, v6}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setEndToEnd(II)V
    
    invoke-direct {p0, v3, v6}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setBottomToBottom(II)V
    # ^^^ setting big_tile_e & big_tile_f in horizontal line, sliders in the center
    
    return-void
    
    :sliders_on_top
    const/4 v6, 0x0 # parent
    
    const/4 v7, 0x1 # chain_spread_inside
    
    # VVV setting big_tile_e & big_tile_f in horizontal line, sliders on the top
    invoke-direct {p0, v0, v2}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setBottomToTop(II)V
    
    invoke-direct {p0, v1, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setBottomToBottom(II)V
    
    invoke-direct {p0, v2, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setTopToBottom(II)V
    
    
    invoke-direct {p0, v2, v6}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setStartToStart(II)V
    
    invoke-direct {p0, v2, v3}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setEndToStart(II)V
    
    invoke-direct {p0, v2, v6}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setBottomToBottom(II)V
    
    invoke-direct {p0, v2, v7}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setHorizontalChainStyle(II)V
    
    
    invoke-direct {p0, v3, v2}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setTopToTop(II)V
    
    invoke-direct {p0, v3, v2}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setStartToEnd(II)V
    
    invoke-direct {p0, v3, v6}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setEndToEnd(II)V
    
    invoke-direct {p0, v3, v6}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setBottomToBottom(II)V
    # ^^^ setting big_tile_e & big_tile_f in horizontal line, sliders on the top
    
    return-void
    
    :sliders_on_bottom
    # VVV big_tile_a & big_tile_b
    sget v4, Lmiui/systemui/controlcenter/R$id;->big_tile_a:I
    
    sget v5, Lmiui/systemui/controlcenter/R$id;->big_tile_b:I
    
    const/4 v6, 0x0 # parent
    
    const/4 v7, 0x1 # chain_spread_inside
    
    invoke-direct {p0, v4, v6}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setStartToStart(II)V
    
    invoke-direct {p0, v4, v6}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setTopToTop(II)V
    
    invoke-direct {p0, v4, v5}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setEndToStart(II)V
    
    invoke-direct {p0, v4, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setBottomToTop(II)V
    
    invoke-direct {p0, v4, v7}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setHorizontalChainStyle(II)V
    
    invoke-direct {p0, v4, v7}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setVerticalChainStyle(II)V
    
    
    invoke-direct {p0, v5, v4}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setStartToEnd(II)V
    
    invoke-direct {p0, v5, v6}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setTopToTop(II)V
    
    invoke-direct {p0, v5, v6}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setEndToEnd(II)V
    
    invoke-direct {p0, v5, v4}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setBottomToBottom(II)V
    # ^^^ big_tile_a & big_tile_b
    
    # VVV big_tile_c & big_tile_d
    invoke-direct {p0, v0, v6}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setStartToStart(II)V
    
    invoke-direct {p0, v0, v4}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setTopToBottom(II)V
    
    invoke-direct {p0, v0, v1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setEndToStart(II)V
    
    invoke-direct {p0, v0, v2}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setBottomToTop(II)V
    
    invoke-direct {p0, v0, v7}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setHorizontalChainStyle(II)V
    
    
    invoke-direct {p0, v1, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setStartToEnd(II)V
    
    invoke-direct {p0, v1, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setTopToTop(II)V
    
    invoke-direct {p0, v1, v6}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setEndToEnd(II)V
    
    invoke-direct {p0, v1, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setBottomToBottom(II)V
    # ^^^ big_tile_c & big_tile_d
    
    
    # VVV bottom elements
    iget v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myBottomLeftElement:I
    
    iget v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myBottomCenterElement:I
    
    iget v2, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myBottomRightElement:I
    
    const/4 v3, 0x0 # parent
    
    const/4 v4, -0x1 # unset
    
    const/4 v5, 0x1 # chain_spread_inside
    
    const-string v6, "big_tile_c"
    
    invoke-direct {p0, v6}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getBigTileIdFromStringId(Ljava/lang/String;)I
    
    move-result v6
    
    # VVV myBottomLeftElement
    invoke-direct {p0, v0, v3}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setStartToStart(II)V
    
    invoke-direct {p0, v0, v6}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setTopToBottom(II)V
    
    invoke-direct {p0, v0, v1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setEndToStart(II)V
    
    invoke-direct {p0, v0, v3}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setBottomToBottom(II)V
    
    invoke-direct {p0, v0, v5}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setHorizontalChainStyle(II)V
    # ^^^ myBottomLeftElement
    
    # VVV myBottomCenterElement
    invoke-direct {p0, v1, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setStartToEnd(II)V
    
    invoke-direct {p0, v1, v6}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setTopToBottom(II)V
    
    invoke-direct {p0, v1, v2}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setEndToStart(II)V
    
    invoke-direct {p0, v1, v3}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setBottomToBottom(II)V
    
    invoke-direct {p0, v1, v4}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setHorizontalChainStyle(II)V
    # ^^^ myBottomCenterElement
    
    # VVV myBottomRightElement
    invoke-direct {p0, v2, v1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setStartToEnd(II)V
    
    invoke-direct {p0, v2, v6}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setTopToBottom(II)V
    
    invoke-direct {p0, v2, v3}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setEndToEnd(II)V
    
    invoke-direct {p0, v2, v3}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setBottomToBottom(II)V
    
    invoke-direct {p0, v2, v4}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setHorizontalChainStyle(II)V
    # ^^^ myBottomRightElement
    
    # ^^^ bottom elements
    
    # VVV big_tile_e & big_tile_f
    const-string v0, "big_tile_e"
    
    invoke-direct {p0, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getBigTileIdFromStringId(Ljava/lang/String;)I
    
    move-result v0
    
    const-string v1, "big_tile_f"
    
    invoke-direct {p0, v1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getBigTileIdFromStringId(Ljava/lang/String;)I
    
    move-result v1
    
    invoke-direct {p0, v0, v1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setBottomToTop(II)V
    
    
    invoke-direct {p0, v1, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setStartToStart(II)V
    
    invoke-direct {p0, v1, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setTopToBottom(II)V
    
    invoke-direct {p0, v1, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setEndToEnd(II)V
    
    invoke-direct {p0, v1, v3}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setBottomToBottom(II)V
    # ^^^ big_tile_e & big_tile_f
    
    # VVV sliders
    sget v1, Lmiui/systemui/controlcenter/R$id;->volume_slider:I
    
    sget v2, Lmiui/systemui/controlcenter/R$id;->brightness_slider:I
    
    invoke-direct {p0, v1, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setTopToTop(II)V
    
    invoke-direct {p0, v2, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setTopToTop(II)V
    # ^^^ sliders
    
    return-void
.end method

.method private updateMyElementsTable_TwoTiles(Landroid/content/ContentResolver;)V
    # param p1: CR
    .locals 4
    
    const-string v0, "my_1st_and_2nd_tiles_position"
    
    const-string v1, "LEFT"
    
    invoke-static {p1, v0, v1}, LMyControlCenterUtils;->getStringFromSettings(Landroid/content/ContentResolver;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
    
    move-result-object v0 # v0 = tiles position
    
    const-string v2, "my_slider_on_the_left"
    
    const-string v3, "BRIGHTNESS"
    
    invoke-static {p1, v2, v3}, LMyControlCenterUtils;->getStringFromSettings(Landroid/content/ContentResolver;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
    
    move-result-object v2 # v2 = sliders position
    
    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
    
    move-result v1
    
    if-eqz v1, :tiles_center_or_right
    
    sget v0, Lmiui/systemui/controlcenter/R$id;->big_tile_a:I
    
    iput v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myTopLeftElement:I
    
    invoke-virtual {v2, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
    
    move-result v3
    
    if-eqz v3, :tiles_left_volume_on_the_left
    
    sget v0, Lmiui/systemui/controlcenter/R$id;->brightness_slider:I
    
    sget v1, Lmiui/systemui/controlcenter/R$id;->volume_slider:I
    
    goto :set_center_and_right
    
    :tiles_left_volume_on_the_left
    sget v0, Lmiui/systemui/controlcenter/R$id;->volume_slider:I

    sget v1, Lmiui/systemui/controlcenter/R$id;->brightness_slider:I
    
    :set_center_and_right
    iput v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myTopCenterElement:I
    
    iput v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myTopRightElement:I
    
    return-void
    
    :tiles_center_or_right
    const-string v1, "CENTER"
    
    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
    
    move-result v1
    
    if-eqz v1, :tiles_right
    
    sget v0, Lmiui/systemui/controlcenter/R$id;->big_tile_a:I
    
    iput v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myTopCenterElement:I
    
    invoke-virtual {v2, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
    
    move-result v3
    
    if-eqz v3, :tiles_center_volume_on_the_left
    
    sget v0, Lmiui/systemui/controlcenter/R$id;->brightness_slider:I

    sget v1, Lmiui/systemui/controlcenter/R$id;->volume_slider:I
    
    goto :set_left_and_right
    
    :tiles_center_volume_on_the_left
    sget v0, Lmiui/systemui/controlcenter/R$id;->volume_slider:I

    sget v1, Lmiui/systemui/controlcenter/R$id;->brightness_slider:I
    
    :set_left_and_right
    iput v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myTopLeftElement:I
    
    iput v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myTopRightElement:I
    
    return-void
    
    :tiles_right
    sget v0, Lmiui/systemui/controlcenter/R$id;->big_tile_a:I
    
    iput v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myTopRightElement:I
    
    invoke-virtual {v2, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
    
    move-result v3
    
    if-eqz v3, :tiles_right_volume_on_the_left
    
    sget v0, Lmiui/systemui/controlcenter/R$id;->brightness_slider:I

    sget v1, Lmiui/systemui/controlcenter/R$id;->volume_slider:I
    
    goto :set_left_and_center
    
    :tiles_right_volume_on_the_left
    sget v0, Lmiui/systemui/controlcenter/R$id;->volume_slider:I

    sget v1, Lmiui/systemui/controlcenter/R$id;->brightness_slider:I
    
    :set_left_and_center
    iput v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myTopLeftElement:I
    
    iput v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myTopCenterElement:I
    
    return-void
.end method

.method private updateMyElementsTable_FourTiles(Landroid/content/ContentResolver;)V
    # param p1: CR
    .locals 4
    
    const-string v0, "my_1st_and_2nd_tiles_position"
    
    const-string v1, "LEFT"
    
    invoke-static {p1, v0, v1}, LMyControlCenterUtils;->getStringFromSettings(Landroid/content/ContentResolver;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
    
    move-result-object v0
    
    const-string v1, "TOP"
    
    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
    
    move-result v1
    
    if-nez v1, :first_and_second_tiles_top
    
    # here first and second tiles are not on the top. hence sliders are on the top
    invoke-direct {p0, p1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->updateMyElementsTable_TwoTiles(Landroid/content/ContentResolver;)V
    
    # now we have myTopLeftElement, myTopCenterElement and myTopRightElement set
    # and we know for sure that big_tile_c is myCenterLeftElement and big_tile_d is myCenterRightElement and myCenterCenterElement is empty (-1)
    
    const-string v0, "big_tile_c"
    
    invoke-direct {p0, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getBigTileIdFromStringId(Ljava/lang/String;)I
    
    move-result v0
    
    iput v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myCenterLeftElement:I
    
    const-string v0, "big_tile_d"
    
    invoke-direct {p0, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getBigTileIdFromStringId(Ljava/lang/String;)I
    
    move-result v0
    
    iput v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myCenterRightElement:I
    
    const/4 v0, -0x1
    
    iput v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myCenterCenterElement:I
    
    return-void
    
    :first_and_second_tiles_top
    
    # here we know that sliders are on the bottom. 
    # hence big_tile_a is myTopLeftElement and big_tile_b is myTopRightElement and myTopCenterElement is empty (-1)
    
    sget v0, Lmiui/systemui/controlcenter/R$id;->big_tile_a:I
    
    iput v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myTopLeftElement:I
    
    sget v0, Lmiui/systemui/controlcenter/R$id;->big_tile_b:I
    
    iput v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myTopRightElement:I
    
    const/4 v0, -0x1
    
    iput v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myTopCenterElement:I
    
    # now we have to configure myCenterLeftElement, myCenterCenterElement and myCenterRightElement...
    
    const-string v0, "my_3rd_and_4th_tiles_position"
    
    const-string v1, "LEFT"
    
    invoke-static {p1, v0, v1}, LMyControlCenterUtils;->getStringFromSettings(Landroid/content/ContentResolver;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
    
    move-result-object v0 # v0 = tiles position
    
    const-string v2, "my_slider_on_the_left"
    
    const-string v3, "BRIGHTNESS"
    
    invoke-static {p1, v2, v3}, LMyControlCenterUtils;->getStringFromSettings(Landroid/content/ContentResolver;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
    
    move-result-object v2 # v2 = sliders position
    
    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
    
    move-result v1
    
    if-eqz v1, :tiles_center_or_right
    
    const-string v0, "big_tile_c"
    
    invoke-direct {p0, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getBigTileIdFromStringId(Ljava/lang/String;)I
    
    move-result v0
    
    iput v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myCenterLeftElement:I
    
    invoke-virtual {v2, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
    
    move-result v3
    
    if-eqz v3, :tiles_left_volume_on_the_left
    
    sget v0, Lmiui/systemui/controlcenter/R$id;->brightness_slider:I
    
    sget v1, Lmiui/systemui/controlcenter/R$id;->volume_slider:I
    
    goto :set_center_and_right
    
    :tiles_left_volume_on_the_left
    sget v0, Lmiui/systemui/controlcenter/R$id;->volume_slider:I

    sget v1, Lmiui/systemui/controlcenter/R$id;->brightness_slider:I
    
    :set_center_and_right
    iput v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myCenterCenterElement:I
    
    iput v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myCenterRightElement:I
    
    return-void
    
    :tiles_center_or_right
    const-string v1, "CENTER"
    
    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
    
    move-result v1
    
    if-eqz v1, :tiles_right
    
    const-string v0, "big_tile_c"
    
    invoke-direct {p0, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getBigTileIdFromStringId(Ljava/lang/String;)I
    
    move-result v0
    
    iput v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myCenterCenterElement:I
    
    invoke-virtual {v2, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
    
    move-result v3
    
    if-eqz v3, :tiles_center_volume_on_the_left
    
    sget v0, Lmiui/systemui/controlcenter/R$id;->brightness_slider:I

    sget v1, Lmiui/systemui/controlcenter/R$id;->volume_slider:I
    
    goto :set_left_and_right
    
    :tiles_center_volume_on_the_left
    sget v0, Lmiui/systemui/controlcenter/R$id;->volume_slider:I

    sget v1, Lmiui/systemui/controlcenter/R$id;->brightness_slider:I
    
    :set_left_and_right
    iput v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myCenterLeftElement:I
    
    iput v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myCenterRightElement:I
    
    return-void
    
    :tiles_right
    const-string v0, "big_tile_c"
    
    invoke-direct {p0, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getBigTileIdFromStringId(Ljava/lang/String;)I
    
    move-result v0
    
    iput v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myCenterRightElement:I
    
    invoke-virtual {v2, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
    
    move-result v3
    
    if-eqz v3, :tiles_right_volume_on_the_left
    
    sget v0, Lmiui/systemui/controlcenter/R$id;->brightness_slider:I

    sget v1, Lmiui/systemui/controlcenter/R$id;->volume_slider:I
    
    goto :set_left_and_center
    
    :tiles_right_volume_on_the_left
    sget v0, Lmiui/systemui/controlcenter/R$id;->volume_slider:I

    sget v1, Lmiui/systemui/controlcenter/R$id;->brightness_slider:I
    
    :set_left_and_center
    iput v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myCenterLeftElement:I
    
    iput v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myCenterCenterElement:I
    
    return-void
.end method

.method private updateMyElementsTable_SixTiles(Landroid/content/ContentResolver;)V
    # param p1: CR
    .locals 4
    
    const-string v0, "my_1st_and_2nd_tiles_position"
    
    const-string v1, "LEFT"
    
    invoke-static {p1, v0, v1}, LMyControlCenterUtils;->getStringFromSettings(Landroid/content/ContentResolver;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
    
    move-result-object v0
    
    const-string v1, "TOP"
    
    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
    
    move-result v1
    
    if-nez v1, :first_and_second_tiles_top
    
    :sliders_NOT_on_the_bottom
    invoke-direct {p0, p1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->updateMyElementsTable_FourTiles(Landroid/content/ContentResolver;)V
    
    const-string v0, "big_tile_e"
    
    invoke-direct {p0, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getBigTileIdFromStringId(Ljava/lang/String;)I
    
    move-result v0
    
    iput v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myBottomLeftElement:I
    
    const-string v0, "big_tile_f"
    
    invoke-direct {p0, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getBigTileIdFromStringId(Ljava/lang/String;)I
    
    move-result v0
    
    iput v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myBottomRightElement:I
    
    const/4 v0, -0x1
    
    iput v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myBottomCenterElement:I
    
    return-void
    
    :first_and_second_tiles_top
    const-string v0, "my_3rd_and_4th_tiles_position"
    
    const-string v1, "LEFT"
    
    invoke-static {p1, v0, v1}, LMyControlCenterUtils;->getStringFromSettings(Landroid/content/ContentResolver;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
    
    move-result-object v0
    
    const-string v1, "TOP"
    
    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
    
    move-result v1
    
    if-nez v1, :sliders_on_the_bottom
    
    goto :sliders_NOT_on_the_bottom
    
    :sliders_on_the_bottom
    sget v0, Lmiui/systemui/controlcenter/R$id;->big_tile_a:I
    
    iput v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myTopLeftElement:I
    
    sget v0, Lmiui/systemui/controlcenter/R$id;->big_tile_b:I
    
    iput v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myTopRightElement:I
    
    const/4 v0, -0x1
    
    iput v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myTopCenterElement:I
    
    const-string v0, "big_tile_c"
    
    invoke-direct {p0, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getBigTileIdFromStringId(Ljava/lang/String;)I
    
    move-result v0
    
    iput v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myCenterLeftElement:I
    
    const-string v0, "big_tile_d"
    
    invoke-direct {p0, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getBigTileIdFromStringId(Ljava/lang/String;)I
    
    move-result v0
    
    iput v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myCenterRightElement:I
    
    const/4 v0, -0x1
    
    iput v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myCenterCenterElement:I
    
    
    const-string v0, "my_5th_and_6th_tiles_position"
    
    const-string v1, "LEFT"
    
    invoke-static {p1, v0, v1}, LMyControlCenterUtils;->getStringFromSettings(Landroid/content/ContentResolver;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
    
    move-result-object v0 # v0 = tiles position
    
    const-string v2, "my_slider_on_the_left"
    
    const-string v3, "BRIGHTNESS"
    
    invoke-static {p1, v2, v3}, LMyControlCenterUtils;->getStringFromSettings(Landroid/content/ContentResolver;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
    
    move-result-object v2 # v2 = sliders position
    
    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
    
    move-result v1
    
    if-eqz v1, :tiles_center_or_right
    
    const-string v0, "big_tile_e"
    
    invoke-direct {p0, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getBigTileIdFromStringId(Ljava/lang/String;)I
    
    move-result v0
    
    iput v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myBottomLeftElement:I
    
    invoke-virtual {v2, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
    
    move-result v3
    
    if-eqz v3, :tiles_left_volume_on_the_left
    
    sget v0, Lmiui/systemui/controlcenter/R$id;->brightness_slider:I
    
    sget v1, Lmiui/systemui/controlcenter/R$id;->volume_slider:I
    
    goto :set_center_and_right
    
    :tiles_left_volume_on_the_left
    sget v0, Lmiui/systemui/controlcenter/R$id;->volume_slider:I

    sget v1, Lmiui/systemui/controlcenter/R$id;->brightness_slider:I
    
    :set_center_and_right
    iput v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myBottomCenterElement:I
    
    iput v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myBottomRightElement:I
    
    return-void
    
    :tiles_center_or_right
    const-string v1, "CENTER"
    
    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
    
    move-result v1
    
    if-eqz v1, :tiles_right
    
    const-string v0, "big_tile_e"
    
    invoke-direct {p0, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getBigTileIdFromStringId(Ljava/lang/String;)I
    
    move-result v0
    
    iput v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myBottomCenterElement:I
    
    invoke-virtual {v2, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
    
    move-result v3
    
    if-eqz v3, :tiles_center_volume_on_the_left
    
    sget v0, Lmiui/systemui/controlcenter/R$id;->brightness_slider:I

    sget v1, Lmiui/systemui/controlcenter/R$id;->volume_slider:I
    
    goto :set_left_and_right
    
    :tiles_center_volume_on_the_left
    sget v0, Lmiui/systemui/controlcenter/R$id;->volume_slider:I

    sget v1, Lmiui/systemui/controlcenter/R$id;->brightness_slider:I
    
    :set_left_and_right
    iput v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myBottomLeftElement:I
    
    iput v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myBottomRightElement:I
    
    return-void
    
    :tiles_right
    const-string v0, "big_tile_e"
    
    invoke-direct {p0, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getBigTileIdFromStringId(Ljava/lang/String;)I
    
    move-result v0
    
    iput v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myBottomRightElement:I
    
    invoke-virtual {v2, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
    
    move-result v3
    
    if-eqz v3, :tiles_right_volume_on_the_left
    
    sget v0, Lmiui/systemui/controlcenter/R$id;->brightness_slider:I

    sget v1, Lmiui/systemui/controlcenter/R$id;->volume_slider:I
    
    goto :set_left_and_center
    
    :tiles_right_volume_on_the_left
    sget v0, Lmiui/systemui/controlcenter/R$id;->volume_slider:I

    sget v1, Lmiui/systemui/controlcenter/R$id;->brightness_slider:I
    
    :set_left_and_center
    iput v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myBottomLeftElement:I
    
    iput v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->myBottomCenterElement:I
    
    :return
    return-void
.end method

.method private setHorizontalChainStyle(II)V
    # param p1: id of view to edit
    # param p2: type of horizontal chain style
    .locals 2
    
    invoke-direct {p0, p1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->findViewById(I)Landroid/view/View;

    move-result-object v0
    
    invoke-direct {p0, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getConstraintLayoutParams(Landroid/view/View;)Landroidx/constraintlayout/widget/ConstraintLayout$LayoutParams;
    
    move-result-object v1
    
    iput p2, v1, Landroidx/constraintlayout/widget/ConstraintLayout$LayoutParams;->horizontalChainStyle:I
    
    invoke-virtual {v0, v1}, Landroid/view/View;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
    
    return-void
.end method

.method private setVerticalChainStyle(II)V
    # param p1: id of view to edit
    # param p2: type of vertical chain style
    .locals 2
    
    invoke-direct {p0, p1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->findViewById(I)Landroid/view/View;

    move-result-object v0
    
    invoke-direct {p0, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getConstraintLayoutParams(Landroid/view/View;)Landroidx/constraintlayout/widget/ConstraintLayout$LayoutParams;
    
    move-result-object v1
    
    iput p2, v1, Landroidx/constraintlayout/widget/ConstraintLayout$LayoutParams;->verticalChainStyle:I
    
    invoke-virtual {v0, v1}, Landroid/view/View;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
    
    return-void
.end method

.method private setStartToStart(II)V
    # param p1: id of view to edit
    # param p2: id of second view
    .locals 2
    
    invoke-direct {p0, p1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->findViewById(I)Landroid/view/View;

    move-result-object v0
    
    invoke-direct {p0, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getConstraintLayoutParams(Landroid/view/View;)Landroidx/constraintlayout/widget/ConstraintLayout$LayoutParams;
    
    move-result-object v1
    
    iput p2, v1, Landroidx/constraintlayout/widget/ConstraintLayout$LayoutParams;->startToStart:I
    
    const/4 p2, -0x1 # unset
    
    iput p2, v1, Landroidx/constraintlayout/widget/ConstraintLayout$LayoutParams;->startToEnd:I
    
    invoke-virtual {v0, v1}, Landroid/view/View;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
    
    return-void
.end method

.method private setStartToEnd(II)V
    # param p1: id of view to edit
    # param p2: id of second view
    .locals 2
    
    invoke-direct {p0, p1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->findViewById(I)Landroid/view/View;

    move-result-object v0
    
    invoke-direct {p0, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getConstraintLayoutParams(Landroid/view/View;)Landroidx/constraintlayout/widget/ConstraintLayout$LayoutParams;
    
    move-result-object v1
    
    iput p2, v1, Landroidx/constraintlayout/widget/ConstraintLayout$LayoutParams;->startToEnd:I
    
    const/4 p2, -0x1 # unset
    
    iput p2, v1, Landroidx/constraintlayout/widget/ConstraintLayout$LayoutParams;->startToStart:I
    
    invoke-virtual {v0, v1}, Landroid/view/View;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
    
    return-void
.end method

.method private setEndToStart(II)V
    # param p1: id of view to edit
    # param p2: id of second view
    .locals 2
    
    invoke-direct {p0, p1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->findViewById(I)Landroid/view/View;

    move-result-object v0
    
    invoke-direct {p0, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getConstraintLayoutParams(Landroid/view/View;)Landroidx/constraintlayout/widget/ConstraintLayout$LayoutParams;
    
    move-result-object v1
    
    iput p2, v1, Landroidx/constraintlayout/widget/ConstraintLayout$LayoutParams;->endToStart:I
    
    const/4 p2, -0x1 # unset
    
    iput p2, v1, Landroidx/constraintlayout/widget/ConstraintLayout$LayoutParams;->endToEnd:I
    
    invoke-virtual {v0, v1}, Landroid/view/View;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
    
    return-void
.end method

.method private setEndToEnd(II)V
    # param p1: id of view to edit
    # param p2: id of second view
    .locals 2
    
    invoke-direct {p0, p1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->findViewById(I)Landroid/view/View;

    move-result-object v0
    
    invoke-direct {p0, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getConstraintLayoutParams(Landroid/view/View;)Landroidx/constraintlayout/widget/ConstraintLayout$LayoutParams;
    
    move-result-object v1
    
    iput p2, v1, Landroidx/constraintlayout/widget/ConstraintLayout$LayoutParams;->endToEnd:I
    
    const/4 p2, -0x1 # unset
    
    iput p2, v1, Landroidx/constraintlayout/widget/ConstraintLayout$LayoutParams;->endToStart:I
    
    invoke-virtual {v0, v1}, Landroid/view/View;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
    
    return-void
.end method

.method private setTopToTop(II)V
    # param p1: id of view to edit
    # param p2: id of second view
    .locals 2
    
    invoke-direct {p0, p1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->findViewById(I)Landroid/view/View;

    move-result-object v0
    
    invoke-direct {p0, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getConstraintLayoutParams(Landroid/view/View;)Landroidx/constraintlayout/widget/ConstraintLayout$LayoutParams;
    
    move-result-object v1
    
    iput p2, v1, Landroidx/constraintlayout/widget/ConstraintLayout$LayoutParams;->topToTop:I
    
    const/4 p2, -0x1 # unset
    
    iput p2, v1, Landroidx/constraintlayout/widget/ConstraintLayout$LayoutParams;->topToBottom:I
    
    invoke-virtual {v0, v1}, Landroid/view/View;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
    
    return-void
.end method

.method private setTopToBottom(II)V
    # param p1: id of view to edit
    # param p2: id of second view
    .locals 2
    
    invoke-direct {p0, p1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->findViewById(I)Landroid/view/View;

    move-result-object v0
    
    invoke-direct {p0, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getConstraintLayoutParams(Landroid/view/View;)Landroidx/constraintlayout/widget/ConstraintLayout$LayoutParams;
    
    move-result-object v1
    
    iput p2, v1, Landroidx/constraintlayout/widget/ConstraintLayout$LayoutParams;->topToBottom:I
    
    const/4 p2, -0x1 # unset
    
    iput p2, v1, Landroidx/constraintlayout/widget/ConstraintLayout$LayoutParams;->topToTop:I
    
    invoke-virtual {v0, v1}, Landroid/view/View;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
    
    return-void
.end method

.method private setBottomToTop(II)V
    # param p1: id of view to edit
    # param p2: id of second view
    .locals 2
    
    invoke-direct {p0, p1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->findViewById(I)Landroid/view/View;

    move-result-object v0
    
    invoke-direct {p0, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getConstraintLayoutParams(Landroid/view/View;)Landroidx/constraintlayout/widget/ConstraintLayout$LayoutParams;
    
    move-result-object v1
    
    iput p2, v1, Landroidx/constraintlayout/widget/ConstraintLayout$LayoutParams;->bottomToTop:I
    
    const/4 p2, -0x1 # unset
    
    iput p2, v1, Landroidx/constraintlayout/widget/ConstraintLayout$LayoutParams;->bottomToBottom:I
    
    invoke-virtual {v0, v1}, Landroid/view/View;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
    
    return-void
.end method

.method private setBottomToBottom(II)V
    # param p1: id of view to edit
    # param p2: id of second view
    .locals 2
    
    invoke-direct {p0, p1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->findViewById(I)Landroid/view/View;

    move-result-object v0
    
    invoke-direct {p0, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getConstraintLayoutParams(Landroid/view/View;)Landroidx/constraintlayout/widget/ConstraintLayout$LayoutParams;
    
    move-result-object v1
    
    iput p2, v1, Landroidx/constraintlayout/widget/ConstraintLayout$LayoutParams;->bottomToBottom:I
    
    const/4 p2, -0x1 # unset
    
    iput p2, v1, Landroidx/constraintlayout/widget/ConstraintLayout$LayoutParams;->bottomToTop:I
    
    invoke-virtual {v0, v1}, Landroid/view/View;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
    
    return-void
.end method

.method private findViewById(I)Landroid/view/View;
    # param p1: id of view inside of this.getView()
    .locals 0
    
    invoke-virtual {p0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getView()Landroid/view/View;

    move-result-object p0
    
    check-cast p0, Landroidx/constraintlayout/widget/ConstraintLayout;
    
    invoke-virtual {p0, p1}, Landroidx/constraintlayout/widget/ConstraintLayout;->findViewById(I)Landroid/view/View;

    move-result-object p1
    
    return-object p1
.end method

.method private getConstraintLayoutParams(Landroid/view/View;)Landroidx/constraintlayout/widget/ConstraintLayout$LayoutParams;
    # param p1: view which params to get
    .locals 0
    
    invoke-virtual {p1}, Landroid/view/View;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;

    move-result-object p1
    
    check-cast p1, Landroidx/constraintlayout/widget/ConstraintLayout$LayoutParams;
    
    return-object p1
.end method
    

.method private getBigTilesCount()I
    .locals 3
    
    invoke-virtual {p0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getContext()Landroid/content/Context;
    
    move-result-object v0
    
    invoke-virtual {v0}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;
    
    move-result-object v0
    
    const-string v1, "my_tiles_count"
    
    const/4 v2, 0x2
    
    invoke-static {v0, v1, v2}, Landroid/provider/Settings$System;->getInt(Landroid/content/ContentResolver;Ljava/lang/String;I)I
    
    move-result v2
    
    return v2
.end method

.method private getBigTileIdFromStringId(Ljava/lang/String;)I
    .locals 1
    
    invoke-virtual {p0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getContext()Landroid/content/Context;
    
    move-result-object v0
    
    invoke-static {v0, p1}, Landroid/Utils/Utils;->IDtoID(Landroid/content/Context;Ljava/lang/String;)I
	
	move-result v0
    
    return v0
.end method

.method private getBigTileViewFromStringId(Ljava/lang/String;)Lmiui/systemui/controlcenter/qs/tileview/BigTileView;
    .locals 1
    
    invoke-virtual {p0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getView()Landroid/view/View;

    move-result-object v0
    
    check-cast v0, Landroidx/constraintlayout/widget/ConstraintLayout;
    
    invoke-direct {p0, p1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getBigTileIdFromStringId(Ljava/lang/String;)I
    
    move-result p1

    invoke-virtual {v0, p1}, Landroidx/constraintlayout/widget/ConstraintLayout;->findViewById(I)Landroid/view/View;

    move-result-object p1

    check-cast p1, Lmiui/systemui/controlcenter/qs/tileview/BigTileView;
    
    return-object p1
.end method

.method private createCustomTile(Lmiui/systemui/controlcenter/qs/tileview/BigTileView;Ljava/lang/String;Ljava/lang/String;)Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;
    # param p1: big tile
    # param p2: settings key for tile tag
    # param p3: default value for settings key
    .locals 1
    
    iget-object v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->tileViewFactory:Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController$Factory;

    invoke-direct {p0, p2, p3}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getCustomBigTileTag(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
    
    move-result-object p2

    invoke-virtual {v0, p1, p2}, Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController$Factory;->create(Lmiui/systemui/controlcenter/qs/tileview/BigTileView;Ljava/lang/String;)Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;

    move-result-object v0
    
    return-object v0
.end method

.method private updateTileOnStateChanged(Lmiui/systemui/controlcenter/qs/tileview/BigTileView;)V
    .locals 1
    
    sget v0, Lmiui/systemui/controlcenter/R$id;->title:I

    invoke-virtual {p1, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileView;->_$_findCachedViewById(I)Landroid/view/View;

    move-result-object v0

    check-cast v0, Lmiui/systemui/controlcenter/widget/FocusedTextView;

    invoke-virtual {v0}, Lmiui/systemui/controlcenter/widget/FocusedTextView;->startMarqueeLocal()V
    
    sget v0, Lmiui/systemui/controlcenter/R$id;->status:I

    invoke-virtual {p1, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileView;->_$_findCachedViewById(I)Landroid/view/View;

    move-result-object v0

    check-cast v0, Lmiui/systemui/controlcenter/widget/FocusedTextView;

    invoke-virtual {v0}, Lmiui/systemui/controlcenter/widget/FocusedTextView;->startMarqueeLocal()V    
    
    return-void
.end method

.method private updateTileOnUpdateResources(Ljava/lang/String;Z)V
    # param p1: big tile id
    # param p2: false => set margin_top = 0, true => set margin_top = bigTileCalculatedMarginTop
    .locals 2
    
    invoke-direct {p0, p1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getBigTileViewFromStringId(Ljava/lang/String;)Lmiui/systemui/controlcenter/qs/tileview/BigTileView;
    
    move-result-object p1
    
    invoke-virtual {p1}, Landroid/view/View;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;

    move-result-object v0
    
    iget v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileCalculatedWidth:I
    
    iput v1, v0, Landroid/view/ViewGroup$LayoutParams;->width:I
    
    check-cast v0, Landroid/view/ViewGroup$MarginLayoutParams;
    
    const/4 v1, 0x0
    
    if-eqz p2, :set_big_tile_margin_top
    
    iget v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->bigTileCalculatedMarginTop:I
    
    :set_big_tile_margin_top
    iput v1, v0, Landroid/view/ViewGroup$MarginLayoutParams;->topMargin:I
    
    invoke-virtual {p1, v0}, Landroid/view/View;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
    
    return-void
.end method

.method private setVisibilityForView(II)V
    # param p1: id of view
    # param p2: visibility
    .locals 0
    
    invoke-virtual {p0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getView()Landroid/view/View;

    move-result-object p0
    
    check-cast p0, Landroidx/constraintlayout/widget/ConstraintLayout;
    
    invoke-virtual {p0, p1}, Landroidx/constraintlayout/widget/ConstraintLayout;->findViewById(I)Landroid/view/View;

    move-result-object p1
    
    invoke-virtual {p1, p2}, Landroid/view/View;->setVisibility(I)V
    
    return-void
.end method

.method private setVisibilityForCustomTiles(I)V
    # param p1: count of all tiles
    .locals 6
    
    const-string v0, "big_tile_c"
    
    invoke-direct {p0, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getBigTileIdFromStringId(Ljava/lang/String;)I
    
    move-result v0 # v0 = big_tile_c
    
    const-string v1, "big_tile_d"
    
    invoke-direct {p0, v1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getBigTileIdFromStringId(Ljava/lang/String;)I
    
    move-result v1 # v1 = big_tile_d
    
    const-string v2, "big_tile_e"
    
    invoke-direct {p0, v2}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getBigTileIdFromStringId(Ljava/lang/String;)I
    
    move-result v2 # v2 = big_tile_e
    
    const-string v3, "big_tile_f"
    
    invoke-direct {p0, v3}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getBigTileIdFromStringId(Ljava/lang/String;)I
    
    move-result v3 # v3 = big_tile_f
    
    const/4 v4, 0x2
    
    if-ne p1, v4, :more_than_two_tiles
    
    const/16 v4, 0x8
    
    const/16 v5, 0x8
    
    goto :set
    
    :more_than_two_tiles
    const/4 v4, 0x4
    
    if-ne p1, v4, :more_than_four_tiles
   
    const/4 v4, 0x0
    
    const/16 v5, 0x8
    
    goto :set
    
    :more_than_four_tiles
    const/4 v4, 0x0
    
    const/4 v5, 0x0
    
    :set
    invoke-direct {p0, v0, v4}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setVisibilityForView(II)V
    
    invoke-direct {p0, v1, v4}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setVisibilityForView(II)V
    
    invoke-direct {p0, v2, v5}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setVisibilityForView(II)V
    
    invoke-direct {p0, v3, v5}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->setVisibilityForView(II)V
    
    return-void
.end method

.method private getCustomBigTileTag(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
    # param p1: key of settings
    # param p2: default value
    .locals 3
    
    invoke-virtual {p0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getContext()Landroid/content/Context;
    
    move-result-object v0
    
    invoke-virtual {v0}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;
    
    move-result-object v0
    
    invoke-static {v0, p1, p2}, LMyControlCenterUtils;->getStringFromSettings(Landroid/content/ContentResolver;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
    
    move-result-object p1
    
    return-object p1
.end method
```

</details>

---

## Lmiui/systemui/controlcenter/qs/QSController;

### Пояснение

Здесь обновляется список "независимых тайлов" - список значений, которые в текущий момент времени используются в тайлах и посему не могут быть использованы в тоглах. Добавили тайл блютуза - исчез тогл блютуза. Метод для обновления этого списка также вызывается в BigTileGroupController при обновлении разметки тайлов и слайдеров с вышеупомянутой целью.

### .method private final setTiles(Ljava/util/Collection;)V

После `.locals` добавить:

```smali
invoke-direct {p0}, Lmiui/systemui/controlcenter/qs/QSController;->updateIndependentTiles()V
```

### .method public final getIndependentTiles()Ljava/util/ArrayList;

После `.locals` добавить:

```smali
invoke-direct {p0}, Lmiui/systemui/controlcenter/qs/QSController;->updateIndependentTiles()V
```

### Добавить в конец класса

<details><summary>Код</summary>

```smali
.method private updateIndependentTiles()V
    .locals 5
    
    new-instance v4, Ljava/util/ArrayList;
    
    invoke-direct {v4}, Ljava/util/ArrayList;-><init>()V
    
    const/4 v3, 0x0
    
    :next
    iget-object v0, p0, Lmiui/systemui/controlcenter/qs/QSController;->bigTileGroup:Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;
    
    invoke-virtual {v0, v3}, Lmiui/systemui/controlcenter/qs/tileview/BigTileGroupController;->getRowViews(I)Ljava/util/ArrayList;
    
    move-result-object v2
    
    check-cast v2, Ljava/lang/Iterable;
    
    invoke-interface {v2}, Ljava/lang/Iterable;->iterator()Ljava/util/Iterator;
    
    move-result-object v2
    
    :again
    invoke-interface {v2}, Ljava/util/Iterator;->hasNext()Z
    
    move-result v1
    
    if-eqz v1, :check_row_1
    
    invoke-interface {v2}, Ljava/util/Iterator;->next()Ljava/lang/Object;
    
    move-result-object v1
    
    instance-of v0, v1, Lmiui/systemui/controlcenter/qs/tileview/BigTileView;
    
    if-eqz v0, :again
    
    check-cast v1, Lmiui/systemui/controlcenter/qs/tileview/BigTileView;
    
    invoke-virtual {v1}, Lmiui/systemui/controlcenter/qs/tileview/BigTileView;->getTag()Ljava/lang/String;
    
    move-result-object v1
    
    invoke-virtual {v4, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
    
    goto :again
    
    :check_row_1
    if-nez v3, :check_row_2
    
    const/4 v3, 0x1
    
    goto :next
    
    :check_row_2
    const/4 v1, 0x2
    
    if-ge v3, v1, :check_row_3
    
    move v3, v1
    
    goto :next
    
    :check_row_3
    const/4 v1, 0x3
    
    if-ge v3, v1, :out
    
    move v3, v1
    
    goto :next
    
    :out
    iput-object v4, p0, Lmiui/systemui/controlcenter/qs/QSController;->independentTiles:Ljava/util/ArrayList;
    
    return-void
.end method
```

</details>

---

## Lmiui/systemui/controlcenter/qs/tileview/BigTileView;

### Пояснение

Здесь настраивается дизайн тайлов. А ещё здесь публичный метод для получения tag'а тайла для обновления "независимых тайлов" выше.

### .method private final updateBackground()V

Найти:

```smali
:cond_12
sget v0, Lmiui/systemui/controlcenter/R$drawable;->qs_card_flashlight_background_enabled:I

goto :goto_0

:cond_13
sget v0, Lmiui/systemui/controlcenter/R$drawable;->qs_card_flashlight_background_disabled:I

goto :goto_0

:cond_14
sget v0, Lmiui/systemui/controlcenter/R$drawable;->qs_card_flashlight_background_unavailable:I

:goto_0
invoke-static {v0}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

move-result-object v1

:cond_15
:goto_1
if-nez v1, :cond_16

goto :goto_2

:cond_16
check-cast v1, Ljava/lang/Number;

invoke-virtual {v1}, Ljava/lang/Number;->intValue()I

move-result v0
```

До строки `goto :goto_2` (она ведёт в `return-void`) добавить:

```smali
invoke-direct {p0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileView;->getDefaultBackground()Ljava/lang/Integer;

move-result-object v1

goto :cond_16
```

Найти строку:

```smali
invoke-virtual {p0, v0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileView;->setBackground(Landroid/graphics/drawable/Drawable;)V
```

До неё добавить:

```smali
invoke-virtual {p0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileView;->getContext()Landroid/content/Context;

move-result-object v1

invoke-static {v1}, LMyControlCenterUtils;->getMyNewCcSettingsEnabled(Landroid/content/Context;)Z

move-result v1

if-eqz v1, :set_background

invoke-direct {p0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileView;->getCustomBgDrawable()Landroid/graphics/drawable/Drawable;

move-result-object v0

:set_background
```

### В конец класса добавить:

<details><summary>Код</summary>

```smali
.method private getDefaultBackground()Ljava/lang/Integer;
    .locals 4
    
    const/4 v1, 0x2

    const/4 v2, 0x1
    
    iget v3, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileView;->mState:I
    
    if-ne v3, v1, :not_active
    
    sget v0, Lmiui/systemui/controlcenter/R$drawable;->qs_card_bt_background_enabled:I

    goto :cast

    :not_active
    if-ne v3, v2, :unavailable
    
    sget v0, Lmiui/systemui/controlcenter/R$drawable;->qs_card_bt_background_disabled:I

    goto :cast

    :unavailable
    sget v0, Lmiui/systemui/controlcenter/R$drawable;->qs_card_bt_background_unavailable:I
    
    :cast
    invoke-static {v0}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v0
    
    return-object v0
.end method

.method public getTag()Ljava/lang/String;
    .locals 0
    
    iget-object p0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileView;->tileTag:Ljava/lang/String;
    
    return-object p0
.end method

.method private getCustomBgDrawable()Landroid/graphics/drawable/Drawable;
    .locals 7
    
    invoke-virtual {p0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileView;->getContext()Landroid/content/Context;

    move-result-object v5
    
    invoke-virtual {v5}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;
    
    move-result-object v5
    
    iget v6, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileView;->mState:I
    
    new-instance v0, Landroid/graphics/drawable/GradientDrawable;

    invoke-direct {v0}, Landroid/graphics/drawable/GradientDrawable;-><init>()V
    
    const-string v1, "my_big_tile_bg_gradient_enabled"
    
    const/4 v2, 0x0
    
    invoke-static {v5, v1, v2}, Landroid/provider/Settings$System;->getInt(Landroid/content/ContentResolver;Ljava/lang/String;I)I
    
    move-result v1
    
    if-nez v1, :gradient_enabled
    
    const/4 v1, 0x2
    
    if-ne v1, v6, :disabled_or_unavailable_single_color
    
    const-string v1, "my_active_big_tile_bg_color"
    
    sget v2, LMyControlCenterUtils;->myDefaultActiveBgColor:I
    
    goto :set_single_color
    
    :disabled_or_unavailable_single_color
    if-eqz v6, :unavailable_single_color
    
    const-string v1, "my_disabled_big_tile_bg_color"
    
    sget v2, LMyControlCenterUtils;->myDefaultDisabledBgColor:I
    
    goto :set_single_color
    
    :unavailable_single_color
    const-string v1, "my_unavailable_big_tile_bg_color"
    
    sget v2, LMyControlCenterUtils;->myDefaultDisabledBgColor:I
    
    :set_single_color
    invoke-static {v5, v1, v2}, Landroid/provider/Settings$System;->getInt(Landroid/content/ContentResolver;Ljava/lang/String;I)I
    
    move-result v1

    invoke-virtual {v0, v1}, Landroid/graphics/drawable/GradientDrawable;->setColor(I)V
    
    goto :set_stroke_strings
    
    :gradient_enabled
    invoke-virtual {v0, v2}, Landroid/graphics/drawable/GradientDrawable;->setGradientType(I)V # 0x0 = LINEAR_GRADIENT
    
    invoke-direct {p0, v6}, Lmiui/systemui/controlcenter/qs/tileview/BigTileView;->getGradientOrientation(I)Landroid/graphics/drawable/GradientDrawable$Orientation;
    
    move-result-object v1
    
    invoke-virtual {v0, v1}, Landroid/graphics/drawable/GradientDrawable;->setOrientation(Landroid/graphics/drawable/GradientDrawable$Orientation;)V
    
    const/4 v1, 0x2
    
    if-ne v1, v6, :disabled_or_unavailable_gradient_colors
    
    const-string v1, "my_active_big_tile_bg_gradient_first_color"
    
    const-string v2, "my_active_big_tile_bg_gradient_second_color"
    
    sget v3, LMyControlCenterUtils;->myDefaultActiveBgColor:I
    
    goto :set_gradient_colors
    
    :disabled_or_unavailable_gradient_colors
    if-eqz v6, :unavailable_gradient_colors
    
    const-string v1, "my_disabled_big_tile_bg_gradient_first_color"
    
    const-string v2, "my_disabled_big_tile_bg_gradient_second_color"
    
    sget v3, LMyControlCenterUtils;->myDefaultDisabledBgColor:I
    
    goto :set_gradient_colors
    
    :unavailable_gradient_colors
    const-string v1, "my_unavailable_big_tile_bg_gradient_first_color"
    
    const-string v2, "my_unavailable_big_tile_bg_gradient_second_color"
    
    sget v3, LMyControlCenterUtils;->myDefaultDisabledBgColor:I
    
    :set_gradient_colors
    invoke-static {v5, v1, v3}, Landroid/provider/Settings$System;->getInt(Landroid/content/ContentResolver;Ljava/lang/String;I)I
    
    move-result v1
    
    invoke-static {v5, v2, v3}, Landroid/provider/Settings$System;->getInt(Landroid/content/ContentResolver;Ljava/lang/String;I)I
    
    move-result v2
    
    const/4 v3, 0x2 # array size
    
    new-array v4, v3, [I
    
    const/4 v3, 0x0 # first element
    
    aput v1, v4, v3
    
    const/4 v3, 0x1 # second element
    
    aput v2, v4, v3
    
    invoke-virtual {v0, v4}, Landroid/graphics/drawable/GradientDrawable;->setColors([I)V
    
    :set_stroke_strings
    const/4 v1, 0x2
    
    if-ne v1, v6, :disabled_or_unavailable_stroke
    
    const-string v1, "my_active_big_tile_stroke_width"
    
    const-string v2, "my_active_big_tile_stroke_color"
    
    goto :set_stroke_and_radius
    
    :disabled_or_unavailable_stroke
    if-eqz v6, :unavailable_stroke
    
    const-string v1, "my_disabled_big_tile_stroke_width"
    
    const-string v2, "my_disabled_big_tile_stroke_color"
    
    goto :set_stroke_and_radius
    
    :unavailable_stroke
    const-string v1, "my_unavailable_big_tile_stroke_width"
    
    const-string v2, "my_unavailable_big_tile_stroke_color"
    
    :set_stroke_and_radius
    const/4 v3, 0x0
    
    invoke-static {v5, v1, v3}, Landroid/provider/Settings$System;->getInt(Landroid/content/ContentResolver;Ljava/lang/String;I)I
    
    move-result v1
    
    invoke-static {v5, v2, v3}, Landroid/provider/Settings$System;->getInt(Landroid/content/ContentResolver;Ljava/lang/String;I)I
    
    move-result v2
    
    invoke-virtual {v0, v1, v2}, Landroid/graphics/drawable/GradientDrawable;->setStroke(II)V
    
    const-string v1, "my_big_tile_corner_radius"
    
    sget v3, LMyControlCenterUtils;->myDefaultCornerRadius:F
    
    invoke-static {v5, v1, v3}, Landroid/provider/Settings$System;->getFloat(Landroid/content/ContentResolver;Ljava/lang/String;F)F
    
    move-result v1

    invoke-virtual {v0, v1}, Landroid/graphics/drawable/GradientDrawable;->setCornerRadius(F)V
    
    return-object v0
.end method

.method private getGradientOrientation(I)Landroid/graphics/drawable/GradientDrawable$Orientation;
    # param p1: state
    .locals 2
    
    const/4 v0, 0x2
    
    if-ne v0, p1, :disabled_or_unavailable
    
    const-string v0, "my_active_big_tile_gradient_orientation"
    
    goto :get_orientation
    
    :disabled_or_unavailable
    if-eqz p1, :unavailable
    
    const-string v0, "my_disabled_big_tile_gradient_orientation"
    
    goto :get_orientation
    
    :unavailable
    const-string v0, "my_unavailable_big_tile_gradient_orientation"
    
    :get_orientation
    invoke-virtual {p0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileView;->getContext()Landroid/content/Context;

    move-result-object p1
    
    invoke-virtual {p1}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;
    
    move-result-object p1
    
    sget-object v1, LMyControlCenterUtils;->myDefaultGradientOrientation:Ljava/lang/String;
    
    invoke-static {p1, v0, v1}, LMyControlCenterUtils;->getStringFromSettings(Landroid/content/ContentResolver;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
    
    move-result-object v0
    
    invoke-static {v0}, Landroid/graphics/drawable/GradientDrawable$Orientation;->valueOf(Ljava/lang/String;)Landroid/graphics/drawable/GradientDrawable$Orientation;
    
    move-result-object v0
    
    return-object v0
.end method
```

</details>

---

## Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;

### Пояснение

Здесь настраивается обновление на лету настроек дизайна тайлов. Наглядно видна работа [CustomUpdater'a от Папы с форума 4PDA.](https://4pda.to/forum/index.php?showtopic=760281&view=findpost&p=91738162) Огромное ему за это спасибо.

### .method protected onCreate()V

После строки:

```smali
invoke-super {p0}, Lmiui/systemui/controlcenter/utils/ControlCenterViewController;->onCreate()V
```

Добавить:

```smali
invoke-direct {p0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;->customOnCreate()V
```

### .method protected onDestroy()V

После `.locals` добавить:

```smali
invoke-direct {p0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;->customOnDestroy()V
```

### В конец класса добавить

<details><summary>Код</summary>

```smali
.implements Landroid/preference/CustomUpdater$CustomReceiver;

.field private customReceivers:[Ljava/lang/String;

.method private customOnCreate()V
    .locals 3
    
    const/4 v0, 0x1

    new-array v0, v0, [Ljava/lang/String;

    const-string v1, "big_tile_background"

    const/4 v2, 0x0

    aput-object v1, v0, v2
    
    iput-object v0, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;->customReceivers:[Ljava/lang/String;

    invoke-static {}, Landroid/preference/CustomUpdater;->getInstance()Landroid/preference/CustomUpdater;

    move-result-object v1

    invoke-virtual {v1, p0, v0}, Landroid/preference/CustomUpdater;->addCustomReceiver(Landroid/preference/CustomUpdater$CustomReceiver;[Ljava/lang/String;)V

    return-void
.end method

.method private customOnDestroy()V
    .locals 2

    invoke-static {}, Landroid/preference/CustomUpdater;->getInstance()Landroid/preference/CustomUpdater;

    move-result-object v0

    iget-object v1, p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;->customReceivers:[Ljava/lang/String;

    invoke-virtual {v0, p0, v1}, Landroid/preference/CustomUpdater;->removeCustomReceiver(Landroid/preference/CustomUpdater$CustomReceiver;[Ljava/lang/String;)V

    return-void
.end method

.method public onCustomChanged(Ljava/lang/String;)V
    .locals 1
    
    const-string v0, "big_tile_background"

    invoke-virtual {v0, p1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0
    
    if-eqz v0, :next_key_0

    invoke-direct {p0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;->onBigTileBackgroundChanged()V

    :next_key_0
    return-void
.end method

.method private onBigTileBackgroundChanged()V
    .locals 0
    
    invoke-virtual {p0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileViewController;->getView()Landroid/view/View;

    move-result-object p0

    check-cast p0, Lmiui/systemui/controlcenter/qs/tileview/BigTileView;

    invoke-virtual {p0}, Lmiui/systemui/controlcenter/qs/tileview/BigTileView;->updateResources()V
    
    return-void
.end method
```

</details>

---

## Lmiui/systemui/controlcenter/qs/tileview/BigTileIconView;

### Пояснение

Здесь исправляется косяк (или не косяк?) при установке иконки тайла. Из-за него некоторые иконки, например, иконка на тайле блокировки экрана, увеличатся до предела, что очень некрасиво. [Спасибо пользователю форума 4PDA UserXP_ за это.](https://4pda.to/forum/index.php?act=findpost&pid=120776744&anchor=Spoil-120776744-14)

### .method private final createIcon()Landroid/widget/ImageView;

Найти:

```smali
sget-object p0, Landroid/widget/ImageView$ScaleType;->FIT_XY:Landroid/widget/ImageView$ScaleType;
```

Заменить на:

```smali
sget-object p0, Landroid/widget/ImageView$ScaleType;->CENTER_INSIDE:Landroid/widget/ImageView$ScaleType;
```

---

## Lmiui/systemui/controlcenter/qs/tileview/StandardTileIconView;

### Пояснение

Здесь настраивается дизайн тоглов. И обновление настроек на лету. Так же работает CustomUpdater.

### .method private final getBgDrawableFromState(Lcom/android/systemui/plugins/qs/QSTile$State;)Landroid/graphics/drawable/Drawable;

После `.locals` добавить:

```smali
iget-object v0, p0, Lmiui/systemui/controlcenter/qs/tileview/StandardTileIconView;->pluginContext:Landroid/content/Context;
    
invoke-static {v0}, LMyControlCenterUtils;->getMyNewCcSettingsEnabled(Landroid/content/Context;)Z

move-result v0

if-eqz v0, :get_default_bg

iget v0, p1, Lcom/android/systemui/plugins/qs/QSTile$State;->state:I

invoke-direct {p0, v0}, Lmiui/systemui/controlcenter/qs/tileview/StandardTileIconView;->getCustomBgDrawable(I)Landroid/graphics/drawable/Drawable;

move-result-object v0

return-object v0

:get_default_bg
```

### .method public updateIcon(Landroid/widget/ImageView;Lcom/android/systemui/plugins/qs/QSTile$State;Z)V

Найти блок кода, запомнить регистры с фоном выключенного тогла (v7) и фоном включенного тогла (v8):

```smali
iget-object v7, p0, Lmiui/systemui/controlcenter/qs/tileview/StandardTileIconView;->pluginContext:Landroid/content/Context;

invoke-virtual {v7}, Landroid/content/Context;->getTheme()Landroid/content/res/Resources$Theme;

move-result-object v7

sget v8, Lmiui/systemui/controlcenter/R$drawable;->qs_background_disabled:I

invoke-virtual {v7, v8}, Landroid/content/res/Resources$Theme;->getDrawable(I)Landroid/graphics/drawable/Drawable;

move-result-object v7 # <--- v7 = disabled background drawable

const-string v8, "pluginContext.theme.getD\u2026e.qs_background_disabled)"

invoke-static {v7, v8}, Lb/f/b/l;->b(Ljava/lang/Object;Ljava/lang/String;)V

iget-object v8, p0, Lmiui/systemui/controlcenter/qs/tileview/StandardTileIconView;->pluginContext:Landroid/content/Context;

invoke-virtual {v8}, Landroid/content/Context;->getTheme()Landroid/content/res/Resources$Theme;

move-result-object v8

invoke-direct {p0, p2}, Lmiui/systemui/controlcenter/qs/tileview/StandardTileIconView;->getActiveBgDrawable(Lcom/android/systemui/plugins/qs/QSTile$State;)I

move-result v9

invoke-virtual {v8, v9}, Landroid/content/res/Resources$Theme;->getDrawable(I)Landroid/graphics/drawable/Drawable;

move-result-object v8

invoke-virtual {v8}, Landroid/graphics/drawable/Drawable;->mutate()Landroid/graphics/drawable/Drawable;

move-result-object v8 # <--- v8 = active background drawable
```

Добавить до него:

```smali
iget-object v7, p0, Lmiui/systemui/controlcenter/qs/tileview/StandardTileIconView;->pluginContext:Landroid/content/Context;
    
invoke-static {v7}, LMyControlCenterUtils;->getMyNewCcSettingsEnabled(Landroid/content/Context;)Z

move-result v7

if-eqz v7, :set_default_bgs

const/4 v7, 0x1

invoke-direct {p0, v7}, Lmiui/systemui/controlcenter/qs/tileview/StandardTileIconView;->getCustomBgDrawable(I)Landroid/graphics/drawable/Drawable;

move-result-object v7 # <--- v7 = disabled background drawable

const/4 v8, 0x2

invoke-direct {p0, v8}, Lmiui/systemui/controlcenter/qs/tileview/StandardTileIconView;->getCustomBgDrawable(I)Landroid/graphics/drawable/Drawable;

move-result-object v8 # <--- v8 = active background drawable

goto :after_set_default_bgs

:set_default_bgs
```

Добавить после него:

```smali
:after_set_default_bgs
```

### В конец класса добавить

<details><summary>Код</summary>

```smali
.implements Landroid/preference/CustomUpdater$CustomReceiver;

.field private customReceivers:[Ljava/lang/String;

.method protected customOnAttachedToWindow()V
    .locals 3
    
    const/4 v0, 0x1

    new-array v0, v0, [Ljava/lang/String;

    const-string v1, "standard_tile_background"

    const/4 v2, 0x0

    aput-object v1, v0, v2
    
    iput-object v0, p0, Lmiui/systemui/controlcenter/qs/tileview/StandardTileIconView;->customReceivers:[Ljava/lang/String;

    invoke-static {}, Landroid/preference/CustomUpdater;->getInstance()Landroid/preference/CustomUpdater;

    move-result-object v1

    invoke-virtual {v1, p0, v0}, Landroid/preference/CustomUpdater;->addCustomReceiver(Landroid/preference/CustomUpdater$CustomReceiver;[Ljava/lang/String;)V

    return-void
.end method

.method protected customOnDetachedFromWindow()V
    .locals 2

    invoke-static {}, Landroid/preference/CustomUpdater;->getInstance()Landroid/preference/CustomUpdater;

    move-result-object v0

    iget-object v1, p0, Lmiui/systemui/controlcenter/qs/tileview/StandardTileIconView;->customReceivers:[Ljava/lang/String;

    invoke-virtual {v0, p0, v1}, Landroid/preference/CustomUpdater;->removeCustomReceiver(Landroid/preference/CustomUpdater$CustomReceiver;[Ljava/lang/String;)V

    return-void
.end method

.method public onCustomChanged(Ljava/lang/String;)V
    .locals 1
    
    const-string v0, "standard_tile_background"

    invoke-virtual {v0, p1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0
    
    if-eqz v0, :next_key_0

    invoke-virtual {p0}, Lmiui/systemui/controlcenter/qs/tileview/StandardTileIconView;->onStandardTileBackgroundChanged()V

    :next_key_0
    return-void
.end method

.method protected onStandardTileBackgroundChanged()V
    .locals 0
    
    invoke-virtual {p0}, Lmiui/systemui/controlcenter/qs/tileview/StandardTileIconView;->updateResources()V
    
    return-void
.end method

.method protected onAttachedToWindow()V
    .locals 0

    invoke-super {p0}, Landroid/view/ViewGroup;->onAttachedToWindow()V
    
    invoke-virtual {p0}, Lmiui/systemui/controlcenter/qs/tileview/StandardTileIconView;->updateResources()V
    
    invoke-virtual {p0}, Lmiui/systemui/controlcenter/qs/tileview/StandardTileIconView;->customOnAttachedToWindow()V
    
    return-void
.end method

.method protected onDetachedFromWindow()V
    .locals 0

    invoke-super {p0}, Landroid/view/ViewGroup;->onDetachedFromWindow()V
    
    invoke-virtual {p0}, Lmiui/systemui/controlcenter/qs/tileview/StandardTileIconView;->customOnDetachedFromWindow()V
    
    return-void
.end method

.method private getCustomBgDrawable(I)Landroid/graphics/drawable/Drawable;
    # param p1: state
    .locals 6
    
    iget-object v5, p0, Lmiui/systemui/controlcenter/qs/tileview/StandardTileIconView;->pluginContext:Landroid/content/Context;
    
    invoke-virtual {v5}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;
    
    move-result-object v5
    
    new-instance v0, Landroid/graphics/drawable/GradientDrawable;

    invoke-direct {v0}, Landroid/graphics/drawable/GradientDrawable;-><init>()V
    
    const-string v1, "my_standard_tile_bg_gradient_enabled"
    
    const/4 v2, 0x0
    
    invoke-static {v5, v1, v2}, Landroid/provider/Settings$System;->getInt(Landroid/content/ContentResolver;Ljava/lang/String;I)I
    
    move-result v1
    
    if-nez v1, :gradient_enabled
    
    const/4 v1, 0x2
    
    if-ne v1, p1, :disabled_or_unavailable_single_color
    
    const-string v1, "my_active_standard_tile_bg_color"
    
    sget v2, LMyControlCenterUtils;->myDefaultActiveBgColor:I
    
    goto :set_single_color
    
    :disabled_or_unavailable_single_color
    if-eqz p1, :unavailable_single_color
    
    const-string v1, "my_disabled_standard_tile_bg_color"
    
    sget v2, LMyControlCenterUtils;->myDefaultDisabledBgColor:I
    
    goto :set_single_color
    
    :unavailable_single_color
    const-string v1, "my_unavailable_standard_tile_bg_color"
    
    sget v2, LMyControlCenterUtils;->myDefaultDisabledBgColor:I
    
    :set_single_color
    invoke-static {v5, v1, v2}, Landroid/provider/Settings$System;->getInt(Landroid/content/ContentResolver;Ljava/lang/String;I)I
    
    move-result v1

    invoke-virtual {v0, v1}, Landroid/graphics/drawable/GradientDrawable;->setColor(I)V
    
    goto :set_stroke_strings
    
    :gradient_enabled
    invoke-virtual {v0, v2}, Landroid/graphics/drawable/GradientDrawable;->setGradientType(I)V # 0x0 = LINEAR_GRADIENT
    
    invoke-direct {p0, p1}, Lmiui/systemui/controlcenter/qs/tileview/StandardTileIconView;->getGradientOrientation(I)Landroid/graphics/drawable/GradientDrawable$Orientation;
    
    move-result-object v1
    
    invoke-virtual {v0, v1}, Landroid/graphics/drawable/GradientDrawable;->setOrientation(Landroid/graphics/drawable/GradientDrawable$Orientation;)V
    
    const/4 v1, 0x2
    
    if-ne v1, p1, :disabled_or_unavailable_gradient_colors
    
    const-string v1, "my_active_standard_tile_bg_gradient_first_color"
    
    const-string v2, "my_active_standard_tile_bg_gradient_second_color"
    
    sget v3, LMyControlCenterUtils;->myDefaultActiveBgColor:I
    
    goto :set_gradient_colors
    
    :disabled_or_unavailable_gradient_colors
    if-eqz p1, :unavailable_gradient_colors
    
    const-string v1, "my_disabled_standard_tile_bg_gradient_first_color"
    
    const-string v2, "my_disabled_standard_tile_bg_gradient_second_color"
    
    sget v3, LMyControlCenterUtils;->myDefaultDisabledBgColor:I
    
    goto :set_gradient_colors
    
    :unavailable_gradient_colors
    const-string v1, "my_unavailable_standard_tile_bg_gradient_first_color"
    
    const-string v2, "my_unavailable_standard_tile_bg_gradient_second_color"
    
    sget v3, LMyControlCenterUtils;->myDefaultDisabledBgColor:I
    
    :set_gradient_colors
    invoke-static {v5, v1, v3}, Landroid/provider/Settings$System;->getInt(Landroid/content/ContentResolver;Ljava/lang/String;I)I
    
    move-result v1
    
    invoke-static {v5, v2, v3}, Landroid/provider/Settings$System;->getInt(Landroid/content/ContentResolver;Ljava/lang/String;I)I
    
    move-result v2
    
    const/4 v3, 0x2 # array size
    
    new-array v4, v3, [I
    
    const/4 v3, 0x0 # first element
    
    aput v1, v4, v3
    
    const/4 v3, 0x1 # second element
    
    aput v2, v4, v3
    
    invoke-virtual {v0, v4}, Landroid/graphics/drawable/GradientDrawable;->setColors([I)V
    
    :set_stroke_strings
    const/4 v1, 0x2
    
    if-ne v1, p1, :disabled_or_unavailable_stroke
    
    const-string v1, "my_active_standard_tile_stroke_width"
    
    const-string v2, "my_active_standard_tile_stroke_color"
    
    goto :set_stroke_and_radius
    
    :disabled_or_unavailable_stroke
    if-eqz p1, :unavailable_stroke
    
    const-string v1, "my_disabled_standard_tile_stroke_width"
    
    const-string v2, "my_disabled_standard_tile_stroke_color"
    
    goto :set_stroke_and_radius
    
    :unavailable_stroke
    const-string v1, "my_unavailable_standard_tile_stroke_width"
    
    const-string v2, "my_unavailable_standard_tile_stroke_color"
    
    :set_stroke_and_radius
    const/4 v3, 0x0
    
    invoke-static {v5, v1, v3}, Landroid/provider/Settings$System;->getInt(Landroid/content/ContentResolver;Ljava/lang/String;I)I
    
    move-result v1
    
    invoke-static {v5, v2, v3}, Landroid/provider/Settings$System;->getInt(Landroid/content/ContentResolver;Ljava/lang/String;I)I
    
    move-result v2
    
    invoke-virtual {v0, v1, v2}, Landroid/graphics/drawable/GradientDrawable;->setStroke(II)V
    
    const-string v1, "my_standard_tile_corner_radius"
    
    sget v3, LMyControlCenterUtils;->myDefaultCornerRadius:F
    
    invoke-static {v5, v1, v3}, Landroid/provider/Settings$System;->getFloat(Landroid/content/ContentResolver;Ljava/lang/String;F)F
    
    move-result v1

    invoke-virtual {v0, v1}, Landroid/graphics/drawable/GradientDrawable;->setCornerRadius(F)V
    
    return-object v0
.end method

.method private getGradientOrientation(I)Landroid/graphics/drawable/GradientDrawable$Orientation;
    # param p1: state
    .locals 2
    
    const/4 v0, 0x2
    
    if-ne v0, p1, :disabled_or_unavailable
    
    const-string v0, "my_active_standard_tile_gradient_orientation"
    
    goto :get_orientation
    
    :disabled_or_unavailable
    if-eqz p1, :unavailable
    
    const-string v0, "my_disabled_standard_tile_gradient_orientation"
    
    goto :get_orientation
    
    :unavailable
    const-string v0, "my_unavailable_standard_tile_gradient_orientation"
    
    :get_orientation
    iget-object p1, p0, Lmiui/systemui/controlcenter/qs/tileview/StandardTileIconView;->pluginContext:Landroid/content/Context;
    
    invoke-virtual {p1}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;
    
    move-result-object p1
    
    sget-object v1, LMyControlCenterUtils;->myDefaultGradientOrientation:Ljava/lang/String;
    
    invoke-static {p1, v0, v1}, LMyControlCenterUtils;->getStringFromSettings(Landroid/content/ContentResolver;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
    
    move-result-object v0
    
    invoke-static {v0}, Landroid/graphics/drawable/GradientDrawable$Orientation;->valueOf(Ljava/lang/String;)Landroid/graphics/drawable/GradientDrawable$Orientation;
    
    move-result-object v0
    
    return-object v0
.end method
```

</details>

---

## Lmiui/systemui/controlcenter/qs/tileview/ExpandableIconView;

### Пояснение

Это класс для тоглов с поддержкой всплывающего окна (Bluetooth, Wi-Fi, мобильная сеть). Код обновления фона там по умолчанию какой-то дурацкий, благо, можно спокойно вызывать метод родительского класса и всё работает прекрасно.

### .method public updateIcon(Landroid/widget/ImageView;Lcom/android/systemui/plugins/qs/QSTile$State;Z)V

Найти блок кода:

```smali
.locals 7

if-nez p1, :cond_0

return-void

:cond_0
if-nez p2, :cond_1

return-void

:cond_1
```

После него добавить:

```smali
invoke-virtual {p0}, Lmiui/systemui/controlcenter/qs/tileview/ExpandableIconView;->getPluginContext()Landroid/content/Context;

move-result-object v0

invoke-static {v0}, LMyControlCenterUtils;->getMyNewCcSettingsEnabled(Landroid/content/Context;)Z

move-result v0

if-eqz v0, :stock

invoke-super {p0, p1, p2, p3}, Lmiui/systemui/controlcenter/qs/tileview/StandardTileIconView;->updateIcon(Landroid/widget/ImageView;Lcom/android/systemui/plugins/qs/QSTile$State;Z)V

return-void

:stock
```

### В конец класса добавить

```smali
.method protected onAttachedToWindow()V
    .locals 0

    invoke-super {p0}, Lmiui/systemui/controlcenter/qs/tileview/StandardTileIconView;->onAttachedToWindow()V
    
    return-void
.end method

.method protected onDetachedFromWindow()V
    .locals 0

    invoke-super {p0}, Lmiui/systemui/controlcenter/qs/tileview/StandardTileIconView;->onDetachedFromWindow()V
    
    return-void
.end method
```

---

## Lmiui/systemui/controlcenter/brightness/ToggleSliderController;

### Пояснение

Здесь настраивается дизайн слайдеров. Обоих, между прочим. И обновление на лету тоже тут.

### .method protected onCreate()V

Найти строку:

```smali
invoke-super {p0}, Lmiui/systemui/controlcenter/utils/ControlCenterViewController;->onCreate()V
```

После неё добавить:

```smali
invoke-direct {p0}, Lmiui/systemui/controlcenter/brightness/ToggleSliderController;->customOnCreate()V
```

### .method protected onDestroy()V

После `.locals` добавить:

```smali
invoke-direct {p0}, Lmiui/systemui/controlcenter/brightness/ToggleSliderController;->customOnDestroy()V
```

### .method public updateResources()V

`.locals 2` -> `.locals 3`

После `.locals` добавить:

```smali
move-object v2, p0
```

Найти блок кода:

```smali
sget v1, Lmiui/systemui/controlcenter/R$id;->slider:I

invoke-virtual {v0, v1}, Landroid/widget/SeekBar;->findViewById(I)Landroid/view/View;

move-result-object v0

check-cast v0, Lmiui/systemui/controlcenter/widget/VerticalToggleSeekBar;

invoke-virtual {p0}, Lmiui/systemui/controlcenter/brightness/ToggleSliderController;->getContext()Landroid/content/Context;

move-result-object p0
```

После него добавить:

```smali
invoke-static {p0}, LMyControlCenterUtils;->getMyNewCcSettingsEnabled(Landroid/content/Context;)Z

move-result v1

if-eqz v1, :set_default_drawable

invoke-direct {v2, v0}, Lmiui/systemui/controlcenter/brightness/ToggleSliderController;->setMyCustomSlider(Lmiui/systemui/controlcenter/widget/VerticalToggleSeekBar;)V

return-void

:set_default_drawable

invoke-direct {v2}, Lmiui/systemui/controlcenter/brightness/ToggleSliderController;->setDefaultSlidersIconsColor()V
```

### В конец класса добавить

<details><summary>Код</summary>

```smali
.method private getCustomDrawableForSliderBackground()Landroid/graphics/drawable/Drawable;
    .locals 6
    
    invoke-virtual {p0}, Lmiui/systemui/controlcenter/brightness/ToggleSliderController;->getContext()Landroid/content/Context;
    
    move-result-object v5
    
    invoke-virtual {v5}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;
    
    move-result-object v5
    
    new-instance v0, Landroid/graphics/drawable/GradientDrawable;

    invoke-direct {v0}, Landroid/graphics/drawable/GradientDrawable;-><init>()V
    
    const-string v1, "my_slider_gradient_enabled"
    
    const/4 v2, 0x0
    
    invoke-static {v5, v1, v2}, Landroid/provider/Settings$System;->getInt(Landroid/content/ContentResolver;Ljava/lang/String;I)I
    
    move-result v1
    
    if-nez v1, :gradient_enabled
    
    const-string v1, "my_slider_bg_color"
    
    sget v2, LMyControlCenterUtils;->myDefaultDisabledBgColor:I
    
    invoke-static {v5, v1, v2}, Landroid/provider/Settings$System;->getInt(Landroid/content/ContentResolver;Ljava/lang/String;I)I
    
    move-result v1

    invoke-virtual {v0, v1}, Landroid/graphics/drawable/GradientDrawable;->setColor(I)V
    
    goto :set_stroke_strings
    
    :gradient_enabled
    invoke-virtual {v0, v2}, Landroid/graphics/drawable/GradientDrawable;->setGradientType(I)V # 0x0 = LINEAR_GRADIENT
    
    const-string v1, "my_slider_bg_gradient_orientation"
    
    invoke-direct {p0, v1}, Lmiui/systemui/controlcenter/brightness/ToggleSliderController;->getGradientOrientation(Ljava/lang/String;)Landroid/graphics/drawable/GradientDrawable$Orientation;
    
    move-result-object v1
    
    invoke-virtual {v0, v1}, Landroid/graphics/drawable/GradientDrawable;->setOrientation(Landroid/graphics/drawable/GradientDrawable$Orientation;)V
    
    const-string v1, "my_slider_bg_gradient_first_color"
    
    const-string v2, "my_slider_bg_gradient_second_color"
    
    sget v3, LMyControlCenterUtils;->myDefaultActiveBgColor:I
    
    invoke-static {v5, v1, v3}, Landroid/provider/Settings$System;->getInt(Landroid/content/ContentResolver;Ljava/lang/String;I)I
    
    move-result v1
    
    invoke-static {v5, v2, v3}, Landroid/provider/Settings$System;->getInt(Landroid/content/ContentResolver;Ljava/lang/String;I)I
    
    move-result v2
    
    const/4 v3, 0x2 # array size
    
    new-array v4, v3, [I
    
    const/4 v3, 0x0 # first element
    
    aput v1, v4, v3
    
    const/4 v3, 0x1 # second element
    
    aput v2, v4, v3
    
    invoke-virtual {v0, v4}, Landroid/graphics/drawable/GradientDrawable;->setColors([I)V
    
    :set_stroke_strings
    
    # i can't imagine anyone using different stroke and corner radii settings for slider bg and fg
    const-string v1, "my_slider_stroke_width"
    
    const-string v2, "my_slider_stroke_color"
    
    const/4 v3, 0x0
    
    invoke-static {v5, v1, v3}, Landroid/provider/Settings$System;->getInt(Landroid/content/ContentResolver;Ljava/lang/String;I)I
    
    move-result v1
    
    invoke-static {v5, v2, v3}, Landroid/provider/Settings$System;->getInt(Landroid/content/ContentResolver;Ljava/lang/String;I)I
    
    move-result v2
    
    invoke-virtual {v0, v1, v2}, Landroid/graphics/drawable/GradientDrawable;->setStroke(II)V
    
    const-string v1, "my_slider_corner_radius"
    
    sget v3, LMyControlCenterUtils;->myDefaultCornerRadius:F
    
    invoke-static {v5, v1, v3}, Landroid/provider/Settings$System;->getFloat(Landroid/content/ContentResolver;Ljava/lang/String;F)F
    
    move-result v1

    invoke-virtual {v0, v1}, Landroid/graphics/drawable/GradientDrawable;->setCornerRadius(F)V
    
    return-object v0
.end method

.method private getCustomDrawableForSliderForeground()Landroid/graphics/drawable/Drawable;
    .locals 6
    
    invoke-virtual {p0}, Lmiui/systemui/controlcenter/brightness/ToggleSliderController;->getContext()Landroid/content/Context;
    
    move-result-object v5
    
    invoke-virtual {v5}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;
    
    move-result-object v5
    
    new-instance v0, Landroid/graphics/drawable/GradientDrawable;

    invoke-direct {v0}, Landroid/graphics/drawable/GradientDrawable;-><init>()V
    
    const-string v1, "my_slider_gradient_enabled"
    
    const/4 v2, 0x0
    
    invoke-static {v5, v1, v2}, Landroid/provider/Settings$System;->getInt(Landroid/content/ContentResolver;Ljava/lang/String;I)I
    
    move-result v1
    
    if-nez v1, :gradient_enabled
    
    const-string v1, "my_slider_fg_color"
    
    sget v2, LMyControlCenterUtils;->myDefaultSliderForegroundColor:I
    
    invoke-static {v5, v1, v2}, Landroid/provider/Settings$System;->getInt(Landroid/content/ContentResolver;Ljava/lang/String;I)I
    
    move-result v1

    invoke-virtual {v0, v1}, Landroid/graphics/drawable/GradientDrawable;->setColor(I)V
    
    goto :set_stroke_strings
    
    :gradient_enabled
    invoke-virtual {v0, v2}, Landroid/graphics/drawable/GradientDrawable;->setGradientType(I)V # 0x0 = LINEAR_GRADIENT
    
    const-string v1, "my_slider_bg_gradient_orientation"
    
    invoke-direct {p0, v1}, Lmiui/systemui/controlcenter/brightness/ToggleSliderController;->getGradientOrientation(Ljava/lang/String;)Landroid/graphics/drawable/GradientDrawable$Orientation;
    
    move-result-object v1
    
    invoke-virtual {v0, v1}, Landroid/graphics/drawable/GradientDrawable;->setOrientation(Landroid/graphics/drawable/GradientDrawable$Orientation;)V
    
    const-string v1, "my_slider_fg_gradient_first_color"
    
    const-string v2, "my_slider_fg_gradient_second_color"
    
    sget v3, LMyControlCenterUtils;->myDefaultSliderForegroundColor:I
    
    invoke-static {v5, v1, v3}, Landroid/provider/Settings$System;->getInt(Landroid/content/ContentResolver;Ljava/lang/String;I)I
    
    move-result v1
    
    invoke-static {v5, v2, v3}, Landroid/provider/Settings$System;->getInt(Landroid/content/ContentResolver;Ljava/lang/String;I)I
    
    move-result v2
    
    const/4 v3, 0x2 # array size
    
    new-array v4, v3, [I
    
    const/4 v3, 0x0 # first element
    
    aput v1, v4, v3
    
    const/4 v3, 0x1 # second element
    
    aput v2, v4, v3
    
    invoke-virtual {v0, v4}, Landroid/graphics/drawable/GradientDrawable;->setColors([I)V
    
    :set_stroke_strings
    
    # i can't imagine anyone using different stroke and corner radii settings for slider bg and fg
    const-string v1, "my_slider_stroke_width"
    
    const-string v2, "my_slider_stroke_color"
    
    const/4 v3, 0x0
    
    invoke-static {v5, v1, v3}, Landroid/provider/Settings$System;->getInt(Landroid/content/ContentResolver;Ljava/lang/String;I)I
    
    move-result v1
    
    invoke-static {v5, v2, v3}, Landroid/provider/Settings$System;->getInt(Landroid/content/ContentResolver;Ljava/lang/String;I)I
    
    move-result v2
    
    invoke-virtual {v0, v1, v2}, Landroid/graphics/drawable/GradientDrawable;->setStroke(II)V
    
    const-string v1, "my_slider_corner_radius"
    
    sget v3, LMyControlCenterUtils;->myDefaultCornerRadius:F
    
    invoke-static {v5, v1, v3}, Landroid/provider/Settings$System;->getFloat(Landroid/content/ContentResolver;Ljava/lang/String;F)F
    
    move-result v1

    invoke-virtual {v0, v1}, Landroid/graphics/drawable/GradientDrawable;->setCornerRadius(F)V
    
    return-object v0
.end method

.method private getGradientOrientation(Ljava/lang/String;)Landroid/graphics/drawable/GradientDrawable$Orientation;
    # param p1: key of settings
    .locals 2
    
    invoke-virtual {p0}, Lmiui/systemui/controlcenter/brightness/ToggleSliderController;->getContext()Landroid/content/Context;
    
    move-result-object v0
    
    invoke-virtual {v0}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;
    
    move-result-object v0
    
    sget-object v1, LMyControlCenterUtils;->myDefaultGradientOrientation:Ljava/lang/String;
    
    invoke-static {v0, p1, v1}, LMyControlCenterUtils;->getStringFromSettings(Landroid/content/ContentResolver;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
    
    move-result-object v0
    
    invoke-static {v0}, Landroid/graphics/drawable/GradientDrawable$Orientation;->valueOf(Ljava/lang/String;)Landroid/graphics/drawable/GradientDrawable$Orientation;
    
    move-result-object v0
    
    return-object v0
.end method

.method private getCustomSliderIconColor()I
    .locals 3
    
    invoke-virtual {p0}, Lmiui/systemui/controlcenter/brightness/ToggleSliderController;->getContext()Landroid/content/Context;
    
    move-result-object v0
    
    invoke-virtual {v0}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;
    
    move-result-object v0
    
    const-string v1, "my_slider_icon_color"
    
    sget v2, LMyControlCenterUtils;->myDefaultSliderIconColor:I
    
    invoke-static {v0, v1, v2}, Landroid/provider/Settings$System;->getInt(Landroid/content/ContentResolver;Ljava/lang/String;I)I
    
    move-result v2
    
    return v2
.end method

.method private setMyCustomSlider(Lmiui/systemui/controlcenter/widget/VerticalToggleSeekBar;)V
    .locals 5
    
    invoke-virtual {p1}, Lmiui/systemui/controlcenter/widget/VerticalToggleSeekBar;->getProgressDrawable()Landroid/graphics/drawable/Drawable;
    
    move-result-object v4
    
    if-eqz v4, :return
    
    instance-of v0, v4, Landroid/graphics/drawable/LayerDrawable;
    
    if-eqz v0, :return
    
    invoke-virtual {v4}, Landroid/graphics/drawable/Drawable;->mutate()Landroid/graphics/drawable/Drawable;
    
    move-result-object v4
    
    check-cast v4, Landroid/graphics/drawable/LayerDrawable; # progress layer drawable
    
    invoke-direct {p0}, Lmiui/systemui/controlcenter/brightness/ToggleSliderController;->getCustomDrawableForSliderBackground()Landroid/graphics/drawable/Drawable;
    
    move-result-object v1 # bg slider
    
    invoke-direct {p0}, Lmiui/systemui/controlcenter/brightness/ToggleSliderController;->getCustomDrawableForSliderForeground()Landroid/graphics/drawable/Drawable;
    
    move-result-object v2 # fg slider
    
    const/4 v0, 0x0
    
    invoke-virtual {v4, v0, v1}, Landroid/graphics/drawable/LayerDrawable;->setDrawable(ILandroid/graphics/drawable/Drawable;)V
    
    const/4 v0, 0x2
    
    invoke-virtual {v4, v0}, Landroid/graphics/drawable/LayerDrawable;->getDrawable(I)Landroid/graphics/drawable/Drawable;
    
    move-result-object v0
    
    instance-of v3, v0, Landroid/graphics/drawable/ClipDrawable;
    
    if-eqz v3, :return
    
    check-cast v0, Landroid/graphics/drawable/ClipDrawable;
    
    invoke-virtual {v0, v2}, Landroid/graphics/drawable/ClipDrawable;->setDrawable(Landroid/graphics/drawable/Drawable;)V
    
    invoke-virtual {p1, v4}, Lmiui/systemui/controlcenter/widget/VerticalToggleSeekBar;->setProgressDrawable(Landroid/graphics/drawable/Drawable;)V
    
    invoke-direct {p0}, Lmiui/systemui/controlcenter/brightness/ToggleSliderController;->setMyCustomSlidersIconsColor()V
    
    :return
    return-void
.end method

.method private setMyCustomSlidersIconsColor()V
    .locals 4
    
    const/16 v3, 0xff # full alpha
    
    sget-object v2, Landroid/graphics/PorterDuff$Mode;->SRC_IN:Landroid/graphics/PorterDuff$Mode;
    
    invoke-direct {p0}, Lmiui/systemui/controlcenter/brightness/ToggleSliderController;->getCustomSliderIconColor()I
    
    move-result v1
    
    invoke-virtual {p0}, Lmiui/systemui/controlcenter/brightness/ToggleSliderController;->getIconA()Landroid/widget/ImageView;
    
    move-result-object v0
    
    invoke-virtual {v0, v1, v2}, Landroid/widget/ImageView;->setColorFilter(ILandroid/graphics/PorterDuff$Mode;)V
    
    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setImageAlpha(I)V
    
    invoke-virtual {p0}, Lmiui/systemui/controlcenter/brightness/ToggleSliderController;->getIconB()Landroid/widget/ImageView;
    
    move-result-object v0
    
    invoke-virtual {v0, v1, v2}, Landroid/widget/ImageView;->setColorFilter(ILandroid/graphics/PorterDuff$Mode;)V
    
    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setImageAlpha(I)V
    
    return-void
.end method

.method private setDefaultSlidersIconsColor()V
    .locals 4
    
    const/4 v1, 0x0 # default icon color
    
    const/16 v3, 0x4d # default icon alpha
    
    sget-object v2, Landroid/graphics/PorterDuff$Mode;->SRC_ATOP:Landroid/graphics/PorterDuff$Mode; # default icon mode
    
    invoke-virtual {p0}, Lmiui/systemui/controlcenter/brightness/ToggleSliderController;->getIconA()Landroid/widget/ImageView;
    
    move-result-object v0
    
    invoke-virtual {v0, v1, v2}, Landroid/widget/ImageView;->setColorFilter(ILandroid/graphics/PorterDuff$Mode;)V
    
    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setImageAlpha(I)V
    
    invoke-virtual {p0}, Lmiui/systemui/controlcenter/brightness/ToggleSliderController;->getIconB()Landroid/widget/ImageView;
    
    move-result-object v0
    
    invoke-virtual {v0, v1, v2}, Landroid/widget/ImageView;->setColorFilter(ILandroid/graphics/PorterDuff$Mode;)V
    
    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setImageAlpha(I)V
    
    return-void
.end method


.implements Landroid/preference/CustomUpdater$CustomReceiver;

.field private customReceivers:[Ljava/lang/String;

.method private customOnCreate()V
    .locals 3
    
    const/4 v0, 0x1

    new-array v0, v0, [Ljava/lang/String;

    const-string v1, "slider_background"

    const/4 v2, 0x0

    aput-object v1, v0, v2
    
    iput-object v0, p0, Lmiui/systemui/controlcenter/brightness/ToggleSliderController;->customReceivers:[Ljava/lang/String;

    invoke-static {}, Landroid/preference/CustomUpdater;->getInstance()Landroid/preference/CustomUpdater;

    move-result-object v1

    invoke-virtual {v1, p0, v0}, Landroid/preference/CustomUpdater;->addCustomReceiver(Landroid/preference/CustomUpdater$CustomReceiver;[Ljava/lang/String;)V

    return-void
.end method

.method private customOnDestroy()V
    .locals 2

    invoke-static {}, Landroid/preference/CustomUpdater;->getInstance()Landroid/preference/CustomUpdater;

    move-result-object v0

    iget-object v1, p0, Lmiui/systemui/controlcenter/brightness/ToggleSliderController;->customReceivers:[Ljava/lang/String;

    invoke-virtual {v0, p0, v1}, Landroid/preference/CustomUpdater;->removeCustomReceiver(Landroid/preference/CustomUpdater$CustomReceiver;[Ljava/lang/String;)V

    return-void
.end method

.method public onCustomChanged(Ljava/lang/String;)V
    .locals 1
    
    const-string v0, "slider_background"

    invoke-virtual {v0, p1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0
    
    if-eqz v0, :next_key_0

    invoke-direct {p0}, Lmiui/systemui/controlcenter/brightness/ToggleSliderController;->onSliderBackgroundChanged()V

    :next_key_0
    return-void
.end method

.method private onSliderBackgroundChanged()V
    .locals 0
    
    invoke-virtual {p0}, Lmiui/systemui/controlcenter/brightness/ToggleSliderController;->updateResources()V
    
    return-void
.end method
```

</details>

---

## res/layout/big_tile_group.xml

Заменить содержимое на:

```xml
<?xml version="1.0" encoding="utf-8"?>
<miui.systemui.widget.ConstraintLayout 
    android:id="@id/big_tiles" 
    android:clipChildren="false" 
    android:clipToPadding="false" 
    android:layout_width="fill_parent" 
    android:layout_height="wrap_content"
    android:splitMotionEvents="false" 
    android:rowCount="2" 
    android:columnCount="4"
    xmlns:android="http://schemas.android.com/apk/res/android" 
    xmlns:app="http://schemas.android.com/apk/res-auto">
    <include 
        android:id="@id/big_tile_a" 
        android:layout_width="0.0dip" 
        android:layout_height="0.0dip" 
        app:layout_constraintBottom_toTopOf="@id/big_tile_b" 
        app:layout_constraintEnd_toStartOf="@id/brightness_slider" 
        app:layout_constraintHorizontal_chainStyle="spread_inside" 
        app:layout_constraintStart_toStartOf="parent" 
        app:layout_constraintTop_toTopOf="parent" 
        layout="@layout/big_tile" />
    
    <include 
        android:id="@id/big_tile_b" 
        android:layout_width="0.0dip" 
        android:layout_height="0.0dip" 
        app:layout_constraintBottom_toBottomOf="parent" 
        app:layout_constraintEnd_toEndOf="@id/big_tile_a" 
        app:layout_constraintStart_toStartOf="@id/big_tile_a" 
        app:layout_constraintTop_toBottomOf="@id/big_tile_a" 
        layout="@layout/big_tile" />
    
    <include 
        android:id="@id/brightness_slider" 
        android:layout_width="0.0dip" 
        android:layout_height="0.0dip" 
        app:layout_constraintBottom_toBottomOf="parent" 
        app:layout_constraintEnd_toStartOf="@id/volume_slider" 
        app:layout_constraintStart_toEndOf="@id/big_tile_a" 
        app:layout_constraintTop_toTopOf="parent" 
        layout="@layout/toggle_slider_view" />
           
    <include 
        android:id="@id/volume_slider" 
        android:layout_width="0.0dip" 
        android:layout_height="0.0dip" 
        app:layout_constraintBottom_toBottomOf="parent" 
        app:layout_constraintEnd_toEndOf="parent" 
        app:layout_constraintStart_toEndOf="@id/brightness_slider" 
        app:layout_constraintTop_toTopOf="parent" 
        layout="@layout/toggle_slider_view" />
    
    <!-- don't forget to add new ids to res/values/ids.xml !!! -->
    <include
        android:id="@id/big_tile_c"
        android:layout_width="0.0dip"
        android:layout_height="0.0dip"
        layout="@layout/big_tile" />
        
    <include
        android:id="@id/big_tile_d"
        android:layout_width="0.0dip"
        android:layout_height="0.0dip"
        layout="@layout/big_tile" />
        
    <include
        android:id="@id/big_tile_e"
        android:layout_width="0.0dip"
        android:layout_height="0.0dip"
        layout="@layout/big_tile" />
        
    <include
        android:id="@id/big_tile_f"
        android:layout_width="0.0dip"
        android:layout_height="0.0dip"
        layout="@layout/big_tile" />
        
</miui.systemui.widget.ConstraintLayout>
```

## res/values/ids.xml

Добавить:

```xml
<item type="id" name="big_tile_c" />
<item type="id" name="big_tile_d" />
<item type="id" name="big_tile_e" />
<item type="id" name="big_tile_f" />
```
